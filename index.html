<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <!-- 锁定黑暗模式 -->
  <meta name="color-scheme" content="dark"/>
  <meta name="supported-color-schemes" content="dark"/>
  <title>Zanes Startseite</title>
  <style>
    /* ---------- 基础样式 ---------- */
    *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
    html{height:100%;color-scheme:dark}
    body{
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif;
      background:linear-gradient(135deg,#1a1a1a 0%,#2d2d2d 50%,#1a1a1a 100%);
      color:#e0e0e0;
      min-height:100vh;
      overflow-x:hidden;
    }
    .particles{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1}
    .particle{
      position:absolute;background:rgba(255,255,255,.4);border-radius:50%;
      animation:float 25s infinite linear;box-shadow:0 0 10px rgba(255,255,255,.3)
    }
    @keyframes float{
      0%{transform:translateY(100vh) translateX(0) rotate(0deg);opacity:0}
      10%{opacity:1}90%{opacity:1}
      100%{transform:translateY(-100px) translateX(100px) rotate(360deg);opacity:0}
    }
    .container{position:relative;z-index:2;max-width:1000px;margin:0 auto;padding:3rem 2rem}
    .header{text-align:center;margin-bottom:4rem}
    .logo{font-size:3rem;font-weight:200;color:#fff;margin-bottom:2rem;letter-spacing:-2px}
    .search-container{max-width:700px;margin:0 auto;display:flex;gap:1rem;align-items:center}
    .search-wrapper{flex:1;position:relative}
    .search-input{width:100%;padding:1.2rem 1.8rem;font-size:1.1rem;border:1px solid rgba(255,255,255,.2);border-radius:50px;background:rgba(0,0,0,.3);color:#fff;transition:.3s;outline:none}
    .search-selector{min-width:140px}
    .search-select{width:100%;padding:1.2rem 1rem;font-size:1rem;border:1px solid rgba(255,255,255,.2);border-radius:50px;background:rgba(0,0,0,.3);color:#fff;cursor:pointer;appearance:none;text-align:center}
    .search-button{position:absolute;right:8px;top:50%;transform:translateY(-50%);background:rgba(255,255,255,.1);color:#fff;border:1px solid rgba(255,255,255,.2);padding:.8rem 1.5rem;border-radius:25px;cursor:pointer;transition:.3s}
    .search-button:hover{background:rgba(255,255,255,.25);transform:translateY(-50%) scale(1.05)}
    .bookmarks{margin-top:4rem}
    .bookmark-section{background:rgba(0,0,0,.3);border:1px solid rgba(255,255,255,.1);border-radius:20px;padding:2.5rem;transition:.3s}
    .section-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;flex-wrap:wrap;gap:1rem}
    .section-title{font-size:1.5rem;font-weight:300;color:#fff}
    .add-bookmark,.toggle-sort{background:rgba(255,255,255,.1);color:#fff;border:1px solid rgba(255,255,255,.2);padding:.5rem 1rem;border-radius:20px;cursor:pointer;font-size:.9rem;transition:.3s}
    .bookmark-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}
    .bookmark-item{display:flex;align-items:center;padding:1.2rem;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.1);border-radius:15px;text-decoration:none;color:#e0e0e0;transition:.3s;position:relative}
    .bookmark-item:hover{background:rgba(255,255,255,.15);transform:translateY(-4px)}
    .bookmark-icon{width:45px;height:45px;background:linear-gradient(135deg,rgba(255,255,255,.2),rgba(255,255,255,.1));border:1px solid rgba(255,255,255,.15);border-radius:12px;display:flex;align-items:center;justify-content:center;margin-right:1rem;color:#fff;font-weight:600;font-size:1.1rem}
    .bookmark-info h3{font-size:1.1rem;font-weight:500;margin-bottom:.3rem;color:#fff}
    .bookmark-info p{font-size:.9rem;color:rgba(255,255,255,.6)}
    .remove-bookmark{position:absolute;top:8px;right:8px;background:rgba(255,255,255,.1);color:rgba(255,255,255,.6);border:none;width:24px;height:24px;border-radius:50%;cursor:pointer;font-size:.8rem;display:none;align-items:center;justify-content:center}
    .bookmark-item:hover .remove-bookmark{display:flex}
    .remove-bookmark:hover{background:rgba(255,50,50,.4);color:#fff}
    .modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);align-items:center;justify-content:center;z-index:1000}
    .modal-content{background:rgba(0,0,0,.9);border:1px solid rgba(255,255,255,.2);border-radius:20px;padding:2rem;max-width:400px;width:90%}
    .modal h3{color:#fff;margin-bottom:1.5rem;font-weight:300}
    .modal input{width:100%;padding:.8rem;margin-bottom:1rem;background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.2);border-radius:10px;color:#fff;outline:none}
    .modal-buttons{display:flex;gap:1rem;justify-content:flex-end}
    .modal button{padding:.6rem 1.2rem;border:1px solid rgba(255,255,255,.2);border-radius:10px;background:rgba(255,255,255,.1);color:#fff;cursor:pointer;transition:.3s}
    .modal button.cancel{background:rgba(255,50,50,.2)}
    .modal button:hover{background:rgba(255,255,255,.25)}
    @media(max-width:768px){.search-container{flex-direction:column}.bookmark-grid{grid-template-columns:1fr}}
    .fade-in{animation:fadeIn 1s ease-out}@keyframes fadeIn{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}
  </style>
</head>

<body>
  <div class="particles" id="particles"></div>

  <div class="container fade-in">
    <div class="header">
      <h1 class="logo">Zanes Startseite</h1>
      <div class="search-container">
        <div class="search-wrapper">
          <input type="text" class="search-input" id="searchInput" placeholder="Suchbegriff eingeben...">
          <button class="search-button" id="searchButton">Suchen</button>
        </div>
        <div class="search-selector">
          <select class="search-select" id="searchEngine">
            <option value="bilibili">Bilibili</option>
            <option value="google">Google</option>
            <option value="youtube">YouTube</option>
            <option value="zhihu">Zhihu</option>
            <option value="edge">Edge</option>
          </select>
        </div>
      </div>
    </div>

    <div class="bookmarks">
      <div class="bookmark-section">
        <div class="section-header">
          <h2 class="section-title">Meine Lesezeichen</h2>
          <div>
            <button class="add-bookmark" id="addBookmarkBtn">+ Hinzufügen</button>
          </div>
        </div>
        <div class="bookmark-grid" id="bookmarkGrid"></div>
      </div>
    </div>
  </div>

  <!-- Add Bookmark Modal -->
  <div class="modal" id="addBookmarkModal">
    <div class="modal-content">
      <h3>Neues Lesezeichen hinzufügen</h3>
      <input type="text" id="bookmarkName" placeholder="Name der Website">
      <input type="url" id="bookmarkUrl" placeholder="https://example.com">
      <input type="text" id="bookmarkDesc" placeholder="Kurze Beschreibung">
      <div class="modal-buttons">
        <button class="cancel" onclick="closeModal()">Abbrechen</button>
        <button onclick="addBookmark()">Hinzufügen</button>
      </div>
    </div>
  </div>

  <script>
    /* ---------- 粒子背景 ---------- */
    function createParticles() {
      const container = document.getElementById('particles');
      setInterval(() => {
        const p = document.createElement('div');
        p.className = 'particle';
        const size = Math.random() * 3 + 1.5;
        p.style.width = p.style.height = size + 'px';
        p.style.left = Math.random() * window.innerWidth + 'px';
        p.style.opacity = Math.random() * 0.6 + 0.3;
        p.style.animationDuration = Math.random() * 8 + 20 + 's';
        p.style.animationDelay = Math.random() * 3 + 's';
        container.appendChild(p);
        setTimeout(() => p.remove(), 30000);
      }, 200);
    }

    /* ---------- 搜索 ---------- */
    const searchUrls = {
      bilibili: 'https://search.bilibili.com/all?keyword=',
      google: 'https://www.google.com/search?q=',
      youtube: 'https://www.youtube.com/results?search_query=',
      zhihu: 'https://www.zhihu.com/search?type=content&q=',
      edge: 'https://www.bing.com/search?q='
    };
    document.getElementById('searchButton').addEventListener('click', () => {
      const q = encodeURIComponent(document.getElementById('searchInput').value.trim());
      const engine = document.getElementById('searchEngine').value;
      if (q) window.open(searchUrls[engine] + q, '_blank');
    });
    document.getElementById('searchInput').addEventListener('keydown', e => {
      if (e.key === 'Enter') document.getElementById('searchButton').click();
    });

    /* ---------- 书签持久化 ---------- */
    const STORAGE_KEY = 'zane_startpage_bookmarks';
    function loadBookmarks() {
      try {
        return JSON.parse(localStorage.getItem(STORAGE_KEY)) || [
          { name: 'Bilibili', url: 'https://www.bilibili.com', desc: 'Video-Community' },
          { name: 'YouTube', url: 'https://www.youtube.com', desc: 'Video-Plattform' },
          { name: 'GitHub', url: 'https://github.com', desc: 'Code-Repository' },
          { name: 'Google Translate', url: 'https://translate.google.com', desc: 'Übersetzungsdienst' }
        ];
      } catch { return []; }
    }
    function saveBookmarks(list) {
      localStorage.setItem(STORAGE_KEY, JSON.stringify(list));
    }
    function renderBookmarks() {
      const list = loadBookmarks();
      const grid = document.getElementById('bookmarkGrid');
      grid.innerHTML = '';
      list.forEach((bm, idx) => {
        const initials = bm.name.split(' ').map(w => w[0]).join('').substring(0, 2).toUpperCase();
        const a = document.createElement('a');
        a.href = bm.url;
        a.target = '_blank';
        a.className = 'bookmark-item';
        a.innerHTML = `
          <div class="bookmark-icon">${initials}</div>
          <div class="bookmark-info">
            <h3>${bm.name}</h3>
            <p>${bm.desc}</p>
          </div>
          <button class="remove-bookmark" data-index="${idx}">×</button>
        `;
        grid.appendChild(a);
      });
    }
    function addBookmark() {
      const name = document.getElementById('bookmarkName').value.trim();
      const url = document.getElementById('bookmarkUrl').value.trim();
      const desc = document.getElementById('bookmarkDesc').value.trim();
      if (!name || !url) return alert('Name und URL angeben!');
      const list = loadBookmarks();
      list.push({ name, url, desc });
      saveBookmarks(list);
      renderBookmarks();
      closeModal();
    }
    function removeBookmark(e) {
      e.preventDefault();
      e.stopPropagation();
      if (!confirm('Löschen?')) return;
      const idx = e.target.dataset.index;
      const list = loadBookmarks();
      list.splice(idx, 1);
      saveBookmarks(list);
      renderBookmarks();
    }
    function openModal() {
      document.getElementById('addBookmarkModal').style.display = 'flex';
      document.getElementById('bookmarkName').focus();
    }
    function closeModal() {
      document.getElementById('addBookmarkModal').style.display = 'none';
      ['bookmarkName', 'bookmarkUrl', 'bookmarkDesc'].forEach(id => document.getElementById(id).value = '');
    }
    /* 初始化 */
    createParticles();
    renderBookmarks();
    document.getElementById('addBookmarkBtn').addEventListener('click', openModal);
    document.getElementById('addBookmarkModal').addEventListener('click', e => e.target === e.currentTarget && closeModal());
    document.addEventListener('keydown', e => e.key === 'Escape' && closeModal());
    document.addEventListener('click', e => e.target.matches('.remove-bookmark') && removeBookmark(e));
  </script>
</body>
</html>
