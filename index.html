<!DOCTYPE html>
<html lang="de"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1">
    <title>Zanes Startseite</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: radial-gradient(ellipse at center, #2d2d2d 0%, #1a1a1a 50%, #0d0d0d 100%);
            min-height: 100vh;
            color: #e0e0e0;
            overflow-x: hidden;
            position: relative;
        }

        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            background: radial-gradient(ellipse at center, 
                rgba(25, 25, 60, 0.3) 0%, 
                rgba(15, 15, 35, 0.6) 40%, 
                rgba(5, 5, 15, 0.9) 100%);
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            animation: twinkle 4s infinite ease-in-out;
        }

        .particle.star {
            background: radial-gradient(circle, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 0.8) 30%, transparent 70%);
            box-shadow: 0 0 6px rgba(255, 255, 255, 0.8), 0 0 12px rgba(255, 255, 255, 0.4);
        }

        .particle.blue-star {
            background: radial-gradient(circle, rgba(150, 200, 255, 1) 0%, rgba(150, 200, 255, 0.8) 30%, transparent 70%);
            box-shadow: 0 0 8px rgba(150, 200, 255, 0.8), 0 0 16px rgba(150, 200, 255, 0.3);
        }

        .particle.distant-star {
            background: radial-gradient(circle, rgba(255, 255, 255, 0.6) 0%, rgba(255, 255, 255, 0.3) 50%, transparent 100%);
            box-shadow: 0 0 2px rgba(255, 255, 255, 0.4);
        }

        .particle.shooting-star {
            background: linear-gradient(45deg, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 0.8) 60%, transparent 100%);
            border-radius: 50% 0% 50% 0%;
            animation: shootingStar 3s linear infinite;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.8), 0 0 20px rgba(255, 255, 255, 0.4);
        }

        @keyframes twinkle {
            0%, 100% { 
                opacity: 0.3; 
                transform: scale(1); 
            }
            50% { 
                opacity: 1; 
                transform: scale(1.4); 
            }
        }

        @keyframes shootingStar {
            0% {
                transform: translateX(-100px) translateY(100px) rotate(45deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateX(calc(100vw + 100px)) translateY(-100px) rotate(45deg);
                opacity: 0;
            }
        }

        .container {
            position: relative;
            z-index: 2;
            max-width: 1000px;
            margin: 0 auto;
            padding: 3rem 2rem;
        }

        .header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .logo {
            font-size: 3rem;
            font-weight: 200;
            color: #ffffff;
            margin-bottom: 2rem;
            letter-spacing: -2px;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.1);
            min-height: 3rem;
            display: flex;
            align-items: center;
            justify-content: center;
            line-height: 1.2;
        }

        .typewriter-container {
            position: relative;
            display: inline-block;
        }

        .typewriter-text {
            display: inline-block;
            white-space: nowrap;
            overflow: hidden;
            border-right: none;
            line-height: 1.2;
        }

        .typewriter-cursor {
            display: inline-block;
            width: 2px;
            height: 1.2em;
            background-color: rgba(255, 255, 255, 0.8);
            animation: blinkCursor 1s infinite;
            margin-left: 2px;
            vertical-align: baseline;
        }

        @keyframes blinkCursor {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        .search-container {
            position: relative;
            max-width: 700px;
            margin: 0 auto;
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .search-wrapper {
            flex: 1;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 1.2rem 1.8rem;
            padding-right: 3.5rem;
            font-size: 1.1rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 50px;
            background: rgba(0, 0, 0, 0.25);
            backdrop-filter: blur(5px);
            color: #ffffff;
            transition: all 0.3s ease;
            outline: none;
        }

        .search-selector {
            position: relative;
            min-width: 140px;
        }

        .search-select {
            width: 100%;
            padding: 1.2rem 1rem;
            font-size: 1rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 50px;
            background: rgba(0, 0, 0, 0.25);
            backdrop-filter: blur(5px);
            color: #ffffff;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            outline: none;
            appearance: none;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .search-select:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.3);
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.15), 0 0 60px rgba(255, 255, 255, 0.08);
            transform: translateY(-1px);
        }

        .search-select:active {
            transform: translateY(0) scale(0.98);
            transition: transform 0.1s ease;
        }

        .search-engine-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 0.5rem 0;
            margin-top: 0.5rem;
            display: block;
            opacity: 0;
            transform: translateY(-10px) scaleY(0.8);
            transform-origin: top;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            max-height: 0;
            overflow: hidden;
            pointer-events: none;
        }

        .search-engine-dropdown.show {
            opacity: 1;
            transform: translateY(0) scaleY(1);
            max-height: 300px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
            pointer-events: auto;
        }

        .search-engine-dropdown.show .search-engine-option {
            animation: fadeInUp 0.3s ease forwards;
            opacity: 0;
            transform: translateY(10px);
        }

        .search-engine-dropdown.show .search-engine-option:nth-child(1) { animation-delay: 0.05s; }
        .search-engine-dropdown.show .search-engine-option:nth-child(2) { animation-delay: 0.1s; }
        .search-engine-dropdown.show .search-engine-option:nth-child(3) { animation-delay: 0.15s; }
        .search-engine-dropdown.show .search-engine-option:nth-child(4) { animation-delay: 0.2s; }
        .search-engine-dropdown.show .search-engine-option:nth-child(5) { animation-delay: 0.25s; }
        .search-engine-dropdown.show .search-engine-option:nth-child(6) { animation-delay: 0.3s; }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .search-engine-option {
            padding: 0.8rem 1rem;
            color: #ffffff;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .search-engine-option:hover {
            background: rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
            transform: translateY(0);
            border-radius: 0;
        }

        .search-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .search-input:focus {
            border-color: rgba(255, 255, 255, 0.4);
            background: rgba(0, 0, 0, 0.6);
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.15), 0 0 60px rgba(255, 255, 255, 0.05);
        }

        .search-select:focus {
            border-color: rgba(255, 255, 255, 0.4);
            background: rgba(0, 0, 0, 0.6);
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.15), 0 0 60px rgba(255, 255, 255, 0.05);
        }

        .search-button {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(8px);
            color: #ffffff;
            border: 1px solid rgba(255, 255, 255, 0.15);
            padding: 0.6rem;
            border-radius: 50%;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            width: 40px;
            height: 40px;
            overflow: hidden;
            flex-shrink: 0;
        }

        .search-button .search-icon-svg {
            width: 20px;
            height: 20px;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }

        .search-button .search-text {
            opacity: 0;
            transform: translateX(5px);
            transition: all 0.3s ease;
            white-space: nowrap;
            font-size: 0.9rem;
            position: absolute;
            left: 50%;
            transform: translateX(-50%) translateX(5px);
        }

        .search-button:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            width: 90px;
            padding: 0.6rem 1.2rem;
            box-shadow: 0 0 35px rgba(255, 255, 255, 0.2), 0 0 70px rgba(255, 255, 255, 0.1);
        }

        .search-button:hover .search-icon-svg {
            opacity: 0;
            transform: translateX(-10px);
        }

        .search-button:hover .search-text {
            opacity: 1;
            transform: translateX(-50%) translateX(0);
        }

        .search-select:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.3);
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.15), 0 0 60px rgba(255, 255, 255, 0.08);
        }

        .bookmarks {
            margin-top: 4rem;
        }

        .bookmark-section {
            background: rgba(0, 0, 0, 0.25);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 2.5rem;
            margin-bottom: 2rem;
            transition: all 0.3s ease;
        }

        .bookmark-section:hover {
            background: rgba(0, 0, 0, 0.5);
            border-color: rgba(255, 255, 255, 0.15);
        }

        .section-controls {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        .rename-section, .delete-section {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(4px);
            color: rgba(255, 255, 255, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.15);
            padding: 0.3rem 0.6rem;
            border-radius: 15px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.3s ease;
        }

        .rename-section:hover {
            background: rgba(255, 255, 255, 0.15);
            color: #ffffff;
        }

        .delete-section {
            background: rgba(255, 50, 50, 0.08);
        }

        .delete-section:hover {
            background: rgba(255, 50, 50, 0.2);
            color: #ffffff;
        }

        .add-section {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(4px);
            color: #ffffff;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 1rem 2rem;
            border-radius: 20px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            margin: 2rem auto;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            min-width: 200px;
            position: relative;
            overflow: hidden;
        }

        .add-section .plus-icon {
            width: 20px;
            height: 20px;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }

        .add-section .add-text {
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .add-section .plus-icon {
            width: 20px;
            height: 20px;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }

        .add-section .add-text {
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .add-section:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.05);
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.1);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 300;
            color: #ffffff;
            letter-spacing: -0.5px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            max-width: calc(100% - 120px);
        }

        .add-bookmark {
            background: rgba(255, 255, 255, 0.1);
            color: #ffffff;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 0.5rem;
            border-radius: 50%;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            position: relative;
            overflow: hidden;
        }

        .add-bookmark .plus-icon {
            width: 16px;
            height: 16px;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }

        .add-bookmark .add-text {
            opacity: 0;
            transform: translateX(5px);
            transition: all 0.3s ease;
            font-size: 0.85rem;
            white-space: nowrap;
            position: absolute;
            left: 50%;
            transform: translateX(-50%) translateX(5px);
        }

        .add-bookmark:hover {
            background: rgba(255, 255, 255, 0.25);
            border-color: rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            width: 90px;
            padding: 0.5rem 1rem;
            box-shadow: 0 0 35px rgba(255, 255, 255, 0.2), 0 0 70px rgba(255, 255, 255, 0.1);
        }

        .add-bookmark:hover .plus-icon {
            opacity: 0;
            transform: translateX(-10px);
        }

        .add-bookmark:hover .add-text {
            opacity: 1;
            transform: translateX(-50%) translateX(0);
        }

        .bookmark-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }

        .bookmark-item {
            display: flex;
            align-items: center;
            padding: 1.2rem;
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(4px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            text-decoration: none;
            color: #e0e0e0;
            transition: all 0.3s ease;
            position: relative;
            cursor: pointer;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
            touch-action: manipulation; /* Better for mobile */
            -webkit-tap-highlight-color: transparent; /* Remove tap highlight on iOS */
        }

        .bookmark-item.dragging {
            opacity: 0.7;
            transform: rotate(2deg) scale(1.02);
            z-index: 1000;
            pointer-events: none;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.6);
        }

        .bookmark-item.drag-target {
            border-color: rgba(255, 255, 255, 0.4);
            background: rgba(255, 255, 255, 0.1);
            transform: scale(1.02);
        }

        .bookmark-item:hover:not(.dragging) {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.3);
            transform: translateY(-4px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4), 0 0 50px rgba(255, 255, 255, 0.1);
        }

        .bookmark-icon {
            width: 45px;
            height: 45px;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1));
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            color: #ffffff;
            font-weight: 600;
            font-size: 1.1rem;
            flex-shrink: 0;
        }

        .bookmark-info {
            flex: 1;
        }

        .bookmark-info h3 {
            font-size: 1.1rem;
            font-weight: 500;
            margin-bottom: 0.3rem;
            color: #ffffff;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            max-width: calc(100% - 20px);
            display: block;
            width: 100%;
        }

        .bookmark-info p {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.6);
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            max-width: calc(100% - 20px);
            display: block;
            width: 100%;
        }

        .remove-bookmark {
            position: absolute;
            top: 8px;
            right: 8px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            cursor: pointer;
            display: none;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            padding: 0;
        }

        .remove-bookmark .delete-icon {
            width: 14px;
            height: 14px;
            fill: rgba(255, 255, 255, 0.7);
            transition: all 0.3s ease;
        }

        .bookmark-item:hover .remove-bookmark {
            display: flex;
        }

        .remove-bookmark:hover {
            background: rgba(255, 50, 50, 0.4);
            box-shadow: 0 0 20px rgba(255, 50, 50, 0.3);
        }

        .remove-bookmark:hover .delete-icon {
            fill: #ffffff;
        }

        .modal {
            display: flex;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0);
            backdrop-filter: blur(0px);
            z-index: 99999; /* Maximum z-index to ensure top layer */
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            pointer-events: none; /* Prevent interaction when hidden */
            isolation: isolate; /* Create new stacking context */
            transform: scale(0.9);
            visibility: visible;
        }
        
        .modal-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: transparent;
            z-index: 99998; /* Just below modal */
            display: none;
        }

        .modal.show {
            opacity: 1;
            pointer-events: auto; /* Enable interaction when visible */
            transform: scale(1);
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
        }
        
        /* Prevent background interaction when any modal is open */
        body.modal-open {
            overflow: hidden;
            pointer-events: none;
        }
        
        body.modal-open .modal {
            pointer-events: auto;
        }
        
        body.modal-open .modal * {
            pointer-events: auto;
        }

        .modal-content {
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            padding: 2.375rem; /* 5% reduction from 2.5rem */
            max-width: 475px; /* 5% reduction from 500px */
            width: 90%;
            transform: scale(0.9) translateY(20px); /* Start smaller and slightly lower */
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 1.045rem; /* 5% reduction from 1.1rem */
            position: relative;
            z-index: 100000; /* Ensure content is above modal background */
            opacity: 0;
        }

        .modal.show .modal-content {
            transform: scale(0.95) translateY(0); /* End at 95% scale and centered */
            opacity: 1;
        }

        .modal h3 {
            color: #ffffff;
            margin-bottom: 1.71rem; /* 5% reduction from 1.8rem */
            font-weight: 300;
            font-size: 1.33rem; /* 5% reduction from 1.4rem */
        }

        .modal input {
            width: 100%;
            padding: 0.855rem; /* 5% reduction from 0.9rem */
            margin-bottom: 1.14rem; /* 5% reduction from 1.2rem */
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(4px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            color: #ffffff;
            outline: none;
            font-size: 1.045rem; /* 5% reduction from 1.1rem */
        }

        .modal input::placeholder {
            color: rgba(255, 255, 255, 0.5);
            font-size: 1.045rem; /* 5% reduction from 1.1rem */
        }

        .modal input:focus {
            border-color: rgba(255, 255, 255, 0.4);
            background: rgba(0, 0, 0, 0.6);
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.15), 0 0 60px rgba(255, 255, 255, 0.05);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .modal-buttons {
            display: flex;
            gap: 1.14rem; /* 5% reduction from 1.2rem */
            justify-content: flex-end;
            margin-top: 1.425rem; /* 5% reduction from 1.5rem */
        }

        .modal button {
            padding: 0.76rem 1.425rem; /* 5% reduction from 0.8rem 1.5rem */
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(2px);
            color: #ffffff;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 1.045rem; /* 5% reduction from 1.1rem */
        }

        .modal button:hover {
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 0 25px rgba(255, 255, 255, 0.15);
        }

        .modal button.cancel:hover {
            background: rgba(255, 50, 50, 0.3);
            box-shadow: 0 0 25px rgba(255, 50, 50, 0.2);
        }

        .modal button.cancel {
            background: rgba(255, 50, 50, 0.2);
        }

        /* Language Menu Button */
        .language-menu {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        .language-btn {
            padding: 0.5rem 1rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            color: #ffffff;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(4px);
            position: relative;
            overflow: hidden;
        }

        .language-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.4);
            box-shadow: 0 0 25px rgba(255, 255, 255, 0.15);
            transform: translateY(-1px);
        }

        .language-btn:active {
            transform: translateY(0) scale(0.98);
            transition: transform 0.1s ease;
        }

        /* Enhanced button press feedback - simplified hover */
        .search-engine-option,
        .language-option {
            position: relative;
            overflow: hidden;
        }

        .search-engine-option:active,
        .language-option:active {
            transform: scale(0.98);
            transition: transform 0.1s ease;
        }

        .language-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 0.5rem 0;
            margin-top: 0.5rem;
            min-width: 150px;
            display: block;
            opacity: 0;
            transform: translateY(-10px) scaleY(0.8);
            transform-origin: top;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            max-height: 0;
            overflow: hidden;
            pointer-events: none;
        }

        .language-dropdown.show {
            opacity: 1;
            transform: translateY(0) scaleY(1);
            max-height: 400px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
            pointer-events: auto;
        }

        .language-dropdown.show .language-option {
            animation: fadeInUp 0.3s ease forwards;
            opacity: 0;
            transform: translateY(10px);
        }

        .language-dropdown.show .language-option:nth-child(1) { animation-delay: 0.05s; }
        .language-dropdown.show .language-option:nth-child(2) { animation-delay: 0.1s; }
        .language-dropdown.show .language-option:nth-child(3) { animation-delay: 0.15s; }
        .language-dropdown.show .language-option:nth-child(4) { animation-delay: 0.2s; }
        .language-dropdown.show .language-option:nth-child(5) { animation-delay: 0.25s; }
        .language-dropdown.show .language-option:nth-child(6) { animation-delay: 0.3s; }
        .language-dropdown.show .language-option:nth-child(7) { animation-delay: 0.35s; }
        .language-dropdown.show .language-option:nth-child(8) { animation-delay: 0.4s; }

        .language-option {
            padding: 0.5rem 1rem;
            color: #ffffff;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
        }

        .language-option:hover {
            background: rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
            transform: translateY(0);
            border-radius: 0;
        }
        /* Icon styles */
        .delete-icon, .edit-icon {
            width: 16px;
            height: 16px;
            vertical-align: middle;
            pointer-events: none;
        }

        .delete-section, .rename-section {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0.3rem 0.5rem;
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 15px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.3s ease;
            position: relative;
            z-index: 10;
            min-width: 32px;
            min-height: 32px;
        }

        .delete-section {
            background: rgba(255, 50, 50, 0.08);
        }

        .rename-section {
            background: rgba(255, 255, 255, 0.08);
            color: rgba(255, 255, 255, 0.7);
        }

        .delete-section:hover {
            background: rgba(255, 50, 50, 0.2);
            border-color: rgba(255, 50, 50, 0.3);
            transform: scale(1.1);
            box-shadow: 0 0 15px rgba(255, 50, 50, 0.3);
        }

        .rename-section:hover {
            background: rgba(255, 255, 255, 0.15);
            color: #ffffff;
            transform: scale(1.1);
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
        }

        @media (max-width: 600px) {
        .container {
            padding: 1rem 0.5rem;
        }

        .logo {
            font-size: 2rem;
        }

        .search-container {
            flex-direction: column;
            gap: 0.5rem;
        }

        .search-input {
            font-size: 1rem;
            padding: 1rem 1.2rem;
        }

        .search-select {
            font-size: 1rem;
            width: 100%;
            max-width: 300px;
        }

        .bookmark-grid {
            grid-template-columns: 1fr;
        }

        .bookmark-item {
            padding: 1rem;
        }

        .bookmark-icon {
            width: 40px;
            height: 40px;
            font-size: 1rem;
        }
    }

    </style>
<!-- SVG Icons -->
</head><body><svg style="display: none;">
    <defs>
        <symbol id="delete-icon" viewBox="0 0 24 24">
            <path d="M13.414,12l3.293-3.293a1,1,0,1,0-1.414-1.414L12,10.586,8.707,7.293A1,1,0,1,0,7.293,8.707L10.586,12,7.293,15.293a1,1,0,1,0,1.414,1.414L12,13.414l3.293,3.293a1,1,0,0,0,1.414-1.414Z" fill="#ffffff" transform="scale(1.15) translate(-1.5, -1.5)"></path>
        </symbol>
        <symbol id="edit-icon" viewBox="0 0 24 24">
            <path clip-rule="evenodd" d="M15.2929 5.12132C15.6834 4.7308 16.3166 4.7308 16.7071 5.12132L18.8787 7.29289C19.2692 7.68342 19.2692 8.31658 18.8787 8.70711L17 10.5858L13.4142 7L15.2929 5.12132ZM12 8.41421L4.29289 16.1213C4.10536 16.3089 4 16.5632 4 16.8284V20H7.17157C7.43679 20 7.69114 19.8946 7.87868 19.7071L15.5858 12L12 8.41421ZM18.1213 3.70711C16.9497 2.53553 15.0502 2.53554 13.8787 3.70711L2.87868 14.7071C2.31607 15.2697 2 16.0328 2 16.8284V20C2 21.1046 2.89543 22 4 22H7.17157C7.96722 22 8.73028 21.6839 9.29289 21.1213L20.2929 10.1213C21.4645 8.94975 21.4645 7.05025 20.2929 5.87868L18.1213 3.70711Z" fill="#ffffff" fill-rule="evenodd"></path>
        </symbol>
        <symbol id="plus-icon" viewBox="0 0 20 20">
            <path d="M10.5 2.75C10.5 2.33579 10.1642 2 9.75 2C9.33579 2 9 2.33579 9 2.75V9H2.75C2.33579 9 2 9.33579 2 9.75C2 10.1642 2.33579 10.5 2.75 10.5H9V16.75C9 17.1642 9.33579 17.5 9.75 17.5C10.1642 17.5 10.5 17.1642 10.5 16.75V10.5H16.75C17.1642 10.5 17.5 10.1642 17.5 9.75C17.5 9.33579 17.1642 9 16.75 9H10.5V2.75Z" fill="#ffffff" stroke="#ffffff" stroke-width="0.5"></path>
        </symbol>
        <symbol id="search-icon" viewBox="0 0 512 512">
            <path d="M445,386.7l-84.8-85.9c13.8-24.1,21-50.9,21-77.9c0-87.6-71.2-158.9-158.6-158.9C135.2,64,64,135.3,64,222.9  c0,87.6,71.2,158.9,158.6,158.9c27.9,0,55.5-7.7,80.1-22.4l84.4,85.6c1.9,1.9,4.6,3.1,7.3,3.1c2.7,0,5.4-1.1,7.3-3.1l43.3-43.8  C449,397.1,449,390.7,445,386.7z M222.6,125.9c53.4,0,96.8,43.5,96.8,97c0,53.5-43.4,97-96.8,97c-53.4,0-96.8-43.5-96.8-97  C125.8,169.4,169.2,125.9,222.6,125.9z" fill="#ffffff"></path>
        </symbol>
    </defs>
</svg>
    

    <div class="language-menu">
        <button class="language-btn" id="languageBtn">Mehr</button>
        <div class="language-dropdown" id="languageDropdown">
            <div class="language-option" data-lang="de">Deutsch</div>
            <div class="language-option" data-lang="nl">Nederlands</div>
            <div class="language-option" data-lang="gsw">Schweizerdeutsch</div>
            <div class="language-option" data-lang="fi">Suomi</div>
            <div class="language-option" data-lang="fr">Français</div>
            <div class="language-option" data-lang="en">English</div>
            <div class="language-option" data-lang="zh">简体中文</div>
            <div class="language-option" data-lang="ja">日本語</div>
        </div>
    </div>

    <div class="particles" id="particles"><div class="particle star" style="width: 1.68507px; height: 1.68507px; left: 69.674%; top: 95.8739%; animation-delay: 1.85398s; animation-duration: 3.01759s;"></div><div class="particle star" style="width: 1.84186px; height: 1.84186px; left: 73.102%; top: 13.3767%; animation-delay: 0.0440057s; animation-duration: 4.66588s;"></div><div class="particle star" style="width: 1.26293px; height: 1.26293px; left: 38.7269%; top: 39.1185%; animation-delay: 2.03321s; animation-duration: 4.32671s;"></div><div class="particle star" style="width: 2.92666px; height: 2.92666px; left: 15.2064%; top: 97.3542%; animation-delay: 2.65494s; animation-duration: 3.06506s;"></div><div class="particle star" style="width: 2.08626px; height: 2.08626px; left: 28.3777%; top: 42.1552%; animation-delay: 0.623483s; animation-duration: 5.34909s;"></div><div class="particle blue-star" style="width: 1.01111px; height: 1.01111px; left: 50.9548%; top: 80.226%; animation-delay: 0.410315s; animation-duration: 5.51853s;"></div><div class="particle star" style="width: 1.09149px; height: 1.09149px; left: 94.4766%; top: 62.6472%; animation-delay: 0.561395s; animation-duration: 5.13616s;"></div><div class="particle blue-star" style="width: 1.19538px; height: 1.19538px; left: 74.3354%; top: 35.7971%; animation-delay: 0.743021s; animation-duration: 4.25332s;"></div><div class="particle star" style="width: 1.2549px; height: 1.2549px; left: 9.35174%; top: 75.1774%; animation-delay: 3.13592s; animation-duration: 3.03516s;"></div><div class="particle star" style="width: 2.23397px; height: 2.23397px; left: 96.1%; top: 92.1393%; animation-delay: 3.0928s; animation-duration: 5.5023s;"></div><div class="particle blue-star" style="width: 1.28726px; height: 1.28726px; left: 35.7188%; top: 85.7232%; animation-delay: 1.6866s; animation-duration: 3.51417s;"></div><div class="particle star" style="width: 2.40808px; height: 2.40808px; left: 98.6941%; top: 29.8743%; animation-delay: 0.935268s; animation-duration: 5.68119s;"></div><div class="particle star" style="width: 1.85343px; height: 1.85343px; left: 10.1957%; top: 5.63621%; animation-delay: 1.64251s; animation-duration: 3.95792s;"></div><div class="particle star" style="width: 2.01587px; height: 2.01587px; left: 37.2698%; top: 37.7998%; animation-delay: 1.6342s; animation-duration: 5.33994s;"></div><div class="particle blue-star" style="width: 1.68047px; height: 1.68047px; left: 20.8303%; top: 6.78075%; animation-delay: 1.68212s; animation-duration: 5.50282s;"></div><div class="particle star" style="width: 2.66128px; height: 2.66128px; left: 12.0543%; top: 36.2218%; animation-delay: 3.16185s; animation-duration: 3.59745s;"></div><div class="particle star" style="width: 2.30706px; height: 2.30706px; left: 59.4705%; top: 13.0618%; animation-delay: 3.41058s; animation-duration: 3.64523s;"></div><div class="particle star" style="width: 1.59347px; height: 1.59347px; left: 78.2334%; top: 52.9317%; animation-delay: 2.42559s; animation-duration: 5.36379s;"></div><div class="particle star" style="width: 1.31412px; height: 1.31412px; left: 30.2799%; top: 36.48%; animation-delay: 2.85321s; animation-duration: 3.46164s;"></div><div class="particle distant-star" style="width: 1.14334px; height: 1.14334px; left: 91.4352%; top: 72.5448%; animation-delay: 0.0617177s; animation-duration: 4.70075s;"></div><div class="particle star" style="width: 1.60598px; height: 1.60598px; left: 99.7895%; top: 0.248786%; animation-delay: 0.701794s; animation-duration: 3.42371s;"></div><div class="particle star" style="width: 2.77667px; height: 2.77667px; left: 73.8355%; top: 79.1413%; animation-delay: 1.54446s; animation-duration: 4.39222s;"></div><div class="particle star" style="width: 1.21162px; height: 1.21162px; left: 23.1574%; top: 17.1284%; animation-delay: 0.13205s; animation-duration: 4.99726s;"></div><div class="particle star" style="width: 1.14452px; height: 1.14452px; left: 64.4711%; top: 32.3958%; animation-delay: 3.61686s; animation-duration: 5.75912s;"></div><div class="particle distant-star" style="width: 0.611323px; height: 0.611323px; left: 6.38344%; top: 46.3379%; animation-delay: 2.40422s; animation-duration: 4.91457s;"></div><div class="particle blue-star" style="width: 1.5226px; height: 1.5226px; left: 56.4163%; top: 76.7963%; animation-delay: 0.51504s; animation-duration: 4.92928s;"></div><div class="particle star" style="width: 2.45455px; height: 2.45455px; left: 47.6398%; top: 41.9983%; animation-delay: 3.58111s; animation-duration: 3.04406s;"></div><div class="particle blue-star" style="width: 0.860128px; height: 0.860128px; left: 59.6046%; top: 89.44%; animation-delay: 0.96429s; animation-duration: 4.31939s;"></div><div class="particle star" style="width: 2.31572px; height: 2.31572px; left: 82.131%; top: 37.837%; animation-delay: 2.45894s; animation-duration: 3.58281s;"></div><div class="particle star" style="width: 2.80094px; height: 2.80094px; left: 69.5664%; top: 36.6505%; animation-delay: 0.919256s; animation-duration: 5.77723s;"></div><div class="particle star" style="width: 2.58177px; height: 2.58177px; left: 45.0619%; top: 61.7368%; animation-delay: 3.29781s; animation-duration: 3.0581s;"></div><div class="particle blue-star" style="width: 1.54689px; height: 1.54689px; left: 41.1735%; top: 67.5927%; animation-delay: 2.59162s; animation-duration: 3.09191s;"></div><div class="particle star" style="width: 2.25307px; height: 2.25307px; left: 35.9192%; top: 46.3454%; animation-delay: 3.65813s; animation-duration: 4.16721s;"></div><div class="particle star" style="width: 2.86361px; height: 2.86361px; left: 56.083%; top: 9.65354%; animation-delay: 1.47714s; animation-duration: 4.55208s;"></div><div class="particle blue-star" style="width: 2.19768px; height: 2.19768px; left: 48.668%; top: 45.6341%; animation-delay: 0.457183s; animation-duration: 3.05668s;"></div><div class="particle blue-star" style="width: 2.29362px; height: 2.29362px; left: 59.0137%; top: 61.0513%; animation-delay: 3.0363s; animation-duration: 5.20443s;"></div><div class="particle star" style="width: 1.4492px; height: 1.4492px; left: 48.4676%; top: 88.3923%; animation-delay: 3.06936s; animation-duration: 4.14039s;"></div><div class="particle star" style="width: 2.29681px; height: 2.29681px; left: 15.5542%; top: 49.6361%; animation-delay: 3.5654s; animation-duration: 4.00676s;"></div><div class="particle star" style="width: 1.74566px; height: 1.74566px; left: 85.4038%; top: 56.5509%; animation-delay: 3.15983s; animation-duration: 5.0631s;"></div><div class="particle blue-star" style="width: 0.867136px; height: 0.867136px; left: 50.3392%; top: 70.555%; animation-delay: 0.66798s; animation-duration: 4.48327s;"></div><div class="particle star" style="width: 2.64829px; height: 2.64829px; left: 44.8222%; top: 13.5219%; animation-delay: 2.04876s; animation-duration: 4.14456s;"></div><div class="particle blue-star" style="width: 2.08387px; height: 2.08387px; left: 34.2296%; top: 29.427%; animation-delay: 3.85976s; animation-duration: 3.13403s;"></div><div class="particle blue-star" style="width: 1.74579px; height: 1.74579px; left: 98.7779%; top: 90.8719%; animation-delay: 1.38897s; animation-duration: 4.72048s;"></div><div class="particle blue-star" style="width: 1.20902px; height: 1.20902px; left: 64.8883%; top: 3.52707%; animation-delay: 2.22991s; animation-duration: 3.95644s;"></div><div class="particle star" style="width: 1.17338px; height: 1.17338px; left: 44.8088%; top: 31.1641%; animation-delay: 0.956085s; animation-duration: 3.3897s;"></div><div class="particle blue-star" style="width: 1.93068px; height: 1.93068px; left: 79.5963%; top: 78.6173%; animation-delay: 3.28174s; animation-duration: 4.30812s;"></div><div class="particle star" style="width: 2.36473px; height: 2.36473px; left: 36.2411%; top: 68.4821%; animation-delay: 2.65474s; animation-duration: 4.71454s;"></div><div class="particle star" style="width: 2.77338px; height: 2.77338px; left: 3.11955%; top: 82.8294%; animation-delay: 2.43903s; animation-duration: 3.77941s;"></div><div class="particle star" style="width: 1.70381px; height: 1.70381px; left: 86.1466%; top: 9.76799%; animation-delay: 0.434579s; animation-duration: 4.05628s;"></div><div class="particle star" style="width: 1.01574px; height: 1.01574px; left: 61.7208%; top: 23.1014%; animation-delay: 1.66127s; animation-duration: 5.55461s;"></div><div class="particle star" style="width: 2.88023px; height: 2.88023px; left: 40.0597%; top: 57.8082%; animation-delay: 1.6946s; animation-duration: 4.36137s;"></div><div class="particle star" style="width: 2.57409px; height: 2.57409px; left: 54.5057%; top: 25.0372%; animation-delay: 1.99231s; animation-duration: 4.0721s;"></div><div class="particle distant-star" style="width: 0.879216px; height: 0.879216px; left: 38.6353%; top: 38.796%; animation-delay: 3.1455s; animation-duration: 4.7995s;"></div><div class="particle star" style="width: 2.83516px; height: 2.83516px; left: 7.13434%; top: 91.356%; animation-delay: 1.37824s; animation-duration: 5.09761s;"></div><div class="particle star" style="width: 1.09618px; height: 1.09618px; left: 34.8929%; top: 91.5419%; animation-delay: 2.0544s; animation-duration: 4.52335s;"></div><div class="particle star" style="width: 2.45221px; height: 2.45221px; left: 80.3246%; top: 64.7349%; animation-delay: 2.55146s; animation-duration: 3.31402s;"></div><div class="particle star" style="width: 2.82619px; height: 2.82619px; left: 84.344%; top: 32.8%; animation-delay: 3.47018s; animation-duration: 4.87542s;"></div><div class="particle star" style="width: 1.35655px; height: 1.35655px; left: 19.4263%; top: 52.6024%; animation-delay: 3.72939s; animation-duration: 5.31455s;"></div><div class="particle star" style="width: 1.08865px; height: 1.08865px; left: 17.3817%; top: 57.9119%; animation-delay: 0.354745s; animation-duration: 3.51194s;"></div><div class="particle blue-star" style="width: 1.91704px; height: 1.91704px; left: 28.3585%; top: 60.0607%; animation-delay: 0.821103s; animation-duration: 5.76217s;"></div><div class="particle star" style="width: 2.34527px; height: 2.34527px; left: 6.92083%; top: 2.44754%; animation-delay: 0.96256s; animation-duration: 5.51815s;"></div><div class="particle star" style="width: 2.45383px; height: 2.45383px; left: 6.96347%; top: 61.1347%; animation-delay: 0.508147s; animation-duration: 4.29325s;"></div><div class="particle star" style="width: 1.37455px; height: 1.37455px; left: 80.0545%; top: 57.5211%; animation-delay: 3.78243s; animation-duration: 5.5722s;"></div><div class="particle blue-star" style="width: 1.28551px; height: 1.28551px; left: 4.92647%; top: 12.3041%; animation-delay: 3.23582s; animation-duration: 5.95273s;"></div><div class="particle star" style="width: 1.07312px; height: 1.07312px; left: 7.86476%; top: 61.4634%; animation-delay: 2.54708s; animation-duration: 4.0851s;"></div><div class="particle star" style="width: 1.45905px; height: 1.45905px; left: 49.632%; top: 61.4176%; animation-delay: 1.27317s; animation-duration: 5.31869s;"></div><div class="particle star" style="width: 1.72189px; height: 1.72189px; left: 24.2823%; top: 41.203%; animation-delay: 2.47208s; animation-duration: 3.46982s;"></div><div class="particle star" style="width: 2.10356px; height: 2.10356px; left: 98.8629%; top: 29.9117%; animation-delay: 0.833306s; animation-duration: 3.57051s;"></div><div class="particle star" style="width: 2.35199px; height: 2.35199px; left: 65.2691%; top: 39.7438%; animation-delay: 0.0468105s; animation-duration: 4.74509s;"></div><div class="particle star" style="width: 1.16864px; height: 1.16864px; left: 70.4231%; top: 32.7153%; animation-delay: 3.18236s; animation-duration: 5.77054s;"></div><div class="particle blue-star" style="width: 1.80822px; height: 1.80822px; left: 77.9616%; top: 31.3182%; animation-delay: 3.43169s; animation-duration: 3.8772s;"></div><div class="particle blue-star" style="width: 1.43776px; height: 1.43776px; left: 21.8442%; top: 10.9317%; animation-delay: 0.615542s; animation-duration: 5.12615s;"></div><div class="particle blue-star" style="width: 0.959346px; height: 0.959346px; left: 88.1122%; top: 78.3521%; animation-delay: 3.41266s; animation-duration: 3.59063s;"></div><div class="particle star" style="width: 1.31286px; height: 1.31286px; left: 67.62%; top: 87.5281%; animation-delay: 2.29029s; animation-duration: 3.75448s;"></div><div class="particle star" style="width: 2.37558px; height: 2.37558px; left: 18.6412%; top: 79.9703%; animation-delay: 2.35437s; animation-duration: 4.90795s;"></div><div class="particle star" style="width: 1.71855px; height: 1.71855px; left: 41.4347%; top: 47.6409%; animation-delay: 2.19448s; animation-duration: 3.74447s;"></div><div class="particle star" style="width: 2.43131px; height: 2.43131px; left: 67.4883%; top: 29.5509%; animation-delay: 1.50761s; animation-duration: 4.99926s;"></div><div class="particle star" style="width: 2.52243px; height: 2.52243px; left: 89.0674%; top: 61.0477%; animation-delay: 1.0707s; animation-duration: 5.58915s;"></div><div class="particle star" style="width: 2.72355px; height: 2.72355px; left: 29.6005%; top: 92.8236%; animation-delay: 3.51556s; animation-duration: 4.60493s;"></div><div class="particle star" style="width: 1.1156px; height: 1.1156px; left: 37.945%; top: 21.1755%; animation-delay: 2.01556s; animation-duration: 3.62508s;"></div><div class="particle star" style="width: 1.18875px; height: 1.18875px; left: 16.12%; top: 53.3453%; animation-delay: 2.11911s; animation-duration: 4.85655s;"></div><div class="particle star" style="width: 1.27786px; height: 1.27786px; left: 73.593%; top: 40.903%; animation-delay: 1.20225s; animation-duration: 3.72837s;"></div><div class="particle star" style="width: 1.49448px; height: 1.49448px; left: 26.259%; top: 85.4967%; animation-delay: 1.60663s; animation-duration: 3.91571s;"></div><div class="particle distant-star" style="width: 0.547371px; height: 0.547371px; left: 13.6135%; top: 92.3913%; animation-delay: 3.72769s; animation-duration: 4.39538s;"></div><div class="particle star" style="width: 1.07415px; height: 1.07415px; left: 76.7854%; top: 63.6722%; animation-delay: 1.65782s; animation-duration: 3.13172s;"></div><div class="particle star" style="width: 2.46905px; height: 2.46905px; left: 4.37599%; top: 67.5191%; animation-delay: 1.49059s; animation-duration: 3.77677s;"></div><div class="particle star" style="width: 2.11009px; height: 2.11009px; left: 43.6426%; top: 65.0056%; animation-delay: 1.88927s; animation-duration: 4.60183s;"></div><div class="particle blue-star" style="width: 1.24475px; height: 1.24475px; left: 87.987%; top: 55.0581%; animation-delay: 0.200288s; animation-duration: 5.3797s;"></div><div class="particle star" style="width: 2.37052px; height: 2.37052px; left: 56.5176%; top: 8.47687%; animation-delay: 1.86498s; animation-duration: 3.28336s;"></div><div class="particle star" style="width: 1.61649px; height: 1.61649px; left: 99.8823%; top: 87.9362%; animation-delay: 1.38537s; animation-duration: 4.19612s;"></div><div class="particle star" style="width: 1.2601px; height: 1.2601px; left: 85.6434%; top: 62.9688%; animation-delay: 0.812347s; animation-duration: 4.01975s;"></div><div class="particle star" style="width: 2.14002px; height: 2.14002px; left: 39.3062%; top: 98.4496%; animation-delay: 0.133065s; animation-duration: 4.34541s;"></div><div class="particle star" style="width: 2.91226px; height: 2.91226px; left: 34.109%; top: 2.89306%; animation-delay: 0.843681s; animation-duration: 5.59611s;"></div><div class="particle star" style="width: 2.13066px; height: 2.13066px; left: 14.8317%; top: 36.7041%; animation-delay: 1.72543s; animation-duration: 5.29423s;"></div><div class="particle star" style="width: 1.78657px; height: 1.78657px; left: 6.9736%; top: 34.3863%; animation-delay: 0.100751s; animation-duration: 5.35437s;"></div><div class="particle star" style="width: 2.68818px; height: 2.68818px; left: 69.3782%; top: 3.8866%; animation-delay: 0.972148s; animation-duration: 4.28462s;"></div><div class="particle star" style="width: 1.87469px; height: 1.87469px; left: 41.7232%; top: 69.3887%; animation-delay: 3.21061s; animation-duration: 4.00761s;"></div><div class="particle star" style="width: 1.64873px; height: 1.64873px; left: 18.5597%; top: 52.2319%; animation-delay: 3.87675s; animation-duration: 3.13507s;"></div><div class="particle blue-star" style="width: 1.51709px; height: 1.51709px; left: 27.7393%; top: 38.7907%; animation-delay: 3.49477s; animation-duration: 5.24285s;"></div><div class="particle star" style="width: 2.9603px; height: 2.9603px; left: 15.1594%; top: 61.0971%; animation-delay: 0.0729984s; animation-duration: 4.46292s;"></div></div>

    <div class="container fade-in">
        <div class="header">
            <h1 class="logo typewriter-container" id="typewriterLogo">Zanes Startseite</h1>
            <div class="search-container">
                <div class="search-wrapper">
                    <input type="text" class="search-input" placeholder="Suchbegriff eingeben..." id="searchInput">
                    <button class="search-button" id="searchButton">
                        <svg class="search-icon-svg">
                            <use href="#search-icon"></use>
                        </svg>
                        <span class="search-text">Suchen</span>
                    </button>
                </div>
                <div class="search-selector">
                    <button class="search-select" id="searchEngineBtn">Bilibili</button>
                    <div class="search-engine-dropdown" id="searchEngineDropdown">
                        <div class="search-engine-option" data-engine="edge">Edge</div>
                        <div class="search-engine-option" data-engine="google">Google</div>
                        <div class="search-engine-option" data-engine="youtube">YouTube</div>
                        <div class="search-engine-option" data-engine="bilibili">Bilibili</div>
                        <div class="search-engine-option" data-engine="tiktok">TikTok</div>
                        <div class="search-engine-option" data-engine="zhihu">Zhihu</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="bookmarks">
            <div id="bookmarkSections"><div class="bookmark-section">
                    <div class="section-header">
                        <h2 class="section-title">Meine Lesezeichen</h2>
                        <div class="section-controls">
                            <button class="add-bookmark" data-section-id="main">
                                <svg class="plus-icon">
                                    <use href="#plus-icon"></use>
                                </svg>
                                <span class="add-text">Hinzufügen</span>
                            </button>
                            
                        </div>
                    </div>
                    <div class="bookmark-grid" id="grid-main"><a href="https://www.youtube.com/" target="_blank" class="bookmark-item" data-section-id="main" data-index="0" draggable="false">
                    <div class="bookmark-icon">Y</div>
                    <div class="bookmark-info">
                        <h3>YouTube</h3>
                        <p>Video-Plattform</p>
                    </div>
                    <button class="remove-bookmark" data-section-id="main" data-index="0">×</button>
                </a><a href="https://github.com/" target="_blank" class="bookmark-item" data-section-id="main" data-index="1" draggable="false">
                    <div class="bookmark-icon">G</div>
                    <div class="bookmark-info">
                        <h3>GitHub</h3>
                        <p>Code-Repository</p>
                    </div>
                    <button class="remove-bookmark" data-section-id="main" data-index="1">×</button>
                </a><a href="https://translate.google.com/" target="_blank" class="bookmark-item" data-section-id="main" data-index="2" draggable="false">
                    <div class="bookmark-icon">GT</div>
                    <div class="bookmark-info">
                        <h3>Google Translate</h3>
                        <p>Übersetzungsdienst</p>
                    </div>
                    <button class="remove-bookmark" data-section-id="main" data-index="2">×</button>
                </a><a href="https://www.bilibili.com/" target="_blank" class="bookmark-item" data-section-id="main" data-index="3" draggable="false">
                    <div class="bookmark-icon">B</div>
                    <div class="bookmark-info">
                        <h3>Bilibili</h3>
                        <p>Video-Community</p>
                    </div>
                    <button class="remove-bookmark" data-section-id="main" data-index="3">×</button>
                </a></div>
                </div><div class="bookmark-section">
                    <div class="section-header">
                        <h2 class="section-title">Weitere Lesezeichen</h2>
                        <div class="section-controls">
                            <button class="add-bookmark" data-section-id="additional">
                                <svg class="plus-icon">
                                    <use href="#plus-icon"></use>
                                </svg>
                                <span class="add-text">Hinzufügen</span>
                            </button>
                            
                                <button class="rename-section" data-section-id="additional" title="Klicken Sie zum Bearbeiten">
                                    <svg class="edit-icon">
                                        <use href="#edit-icon"></use>
                                    </svg>
                                </button>
                                <button class="delete-section" data-section-id="additional" title="Klicken Sie zum Löschen">
                                    <svg class="delete-icon">
                                        <use href="#delete-icon"></use>
                                    </svg>
                                </button>
                            
                        </div>
                    </div>
                    <div class="bookmark-grid" id="grid-additional"><a href="file:///C:/Users/30341/Desktop/1" target="_blank" class="bookmark-item" data-section-id="additional" data-index="0" draggable="false">
                    <div class="bookmark-icon">1</div>
                    <div class="bookmark-info">
                        <h3>1</h3>
                        <p></p>
                    </div>
                    <button class="remove-bookmark" data-section-id="additional" data-index="0">×</button>
                </a><a href="file:///C:/Users/30341/Desktop/2" target="_blank" class="bookmark-item" data-section-id="additional" data-index="1" draggable="false">
                    <div class="bookmark-icon">2</div>
                    <div class="bookmark-info">
                        <h3>2</h3>
                        <p></p>
                    </div>
                    <button class="remove-bookmark" data-section-id="additional" data-index="1">×</button>
                </a></div>
                </div><div class="bookmark-section">
                    <div class="section-header">
                        <h2 class="section-title">s</h2>
                        <div class="section-controls">
                            <button class="add-bookmark" data-section-id="section_1753518318759">
                                <svg class="plus-icon">
                                    <use href="#plus-icon"></use>
                                </svg>
                                <span class="add-text">Hinzufügen</span>
                            </button>
                            
                                <button class="rename-section" data-section-id="section_1753518318759" title="Klicken Sie zum Bearbeiten">
                                    <svg class="edit-icon">
                                        <use href="#edit-icon"></use>
                                    </svg>
                                </button>
                                <button class="delete-section" data-section-id="section_1753518318759" title="Klicken Sie zum Löschen">
                                    <svg class="delete-icon">
                                        <use href="#delete-icon"></use>
                                    </svg>
                                </button>
                            
                        </div>
                    </div>
                    <div class="bookmark-grid" id="grid-section_1753518318759"><a href="file:///C:/Users/30341/Desktop/1" target="_blank" class="bookmark-item" data-section-id="section_1753518318759" data-index="0" draggable="false">
                    <div class="bookmark-icon">1</div>
                    <div class="bookmark-info">
                        <h3>1</h3>
                        <p>1</p>
                    </div>
                    <button class="remove-bookmark" data-section-id="section_1753518318759" data-index="0">×</button>
                </a></div>
                </div><div class="bookmark-section">
                    <div class="section-header">
                        <h2 class="section-title">2</h2>
                        <div class="section-controls">
                            <button class="add-bookmark" data-section-id="section_1753689726237">
                                <svg class="plus-icon">
                                    <use href="#plus-icon"></use>
                                </svg>
                                <span class="add-text">Hinzufügen</span>
                            </button>
                            
                                <button class="rename-section" data-section-id="section_1753689726237" title="Klicken Sie zum Bearbeiten">
                                    <svg class="edit-icon">
                                        <use href="#edit-icon"></use>
                                    </svg>
                                </button>
                                <button class="delete-section" data-section-id="section_1753689726237" title="Klicken Sie zum Löschen">
                                    <svg class="delete-icon">
                                        <use href="#delete-icon"></use>
                                    </svg>
                                </button>
                            
                        </div>
                    </div>
                    <div class="bookmark-grid" id="grid-section_1753689726237"></div>
                </div></div>
            <button class="add-section" id="addSectionBtn">+ Neuen Bereich hinzufügen</button>
        </div>
    </div>

    <!-- Add Bookmark Modal -->
    <div class="modal" id="addBookmarkModal" style="display: none;">
        <div class="modal-content">
            <h3>Neues Lesezeichen hinzufügen</h3>
            <input type="text" id="bookmarkName" placeholder="Name der Website">
            <input type="url" id="bookmarkUrl" placeholder="https://example.com">
            <input type="text" id="bookmarkDesc" placeholder="Kurze Beschreibung">
            <div class="modal-buttons">
                <button class="cancel" onclick="closeBookmarkModal()">Abbrechen</button>
                <button onclick="addBookmark()">Hinzufügen</button>
            </div>
        </div>
    </div>

    <!-- Add Section Modal -->
    <div class="modal" id="addSectionModal" style="display: none;">
        <div class="modal-content">
            <h3>Neuen Bereich erstellen</h3>
            <input type="text" id="sectionName" placeholder="Name des Bereichs">
            <div class="modal-buttons">
                <button class="cancel" onclick="closeSectionModal()">Abbrechen</button>
                <button onclick="addSection()">Erstellen</button>
            </div>
        </div>
    </div>

    <!-- Rename Section Modal -->
    <div class="modal" id="renameSectionModal" style="display: none;">
        <div class="modal-content">
            <h3>Bereich umbenennen</h3>
            <input type="text" id="newSectionName" placeholder="Neuer Name">
            <div class="modal-buttons">
                <button class="cancel" onclick="closeRenameModal()">Abbrechen</button>
                <button onclick="confirmRename()">Umbenennen</button>
            </div>
        </div>
    </div>

    <!-- Alert Modal -->
    <div class="modal" id="alertModal" style="display: none;">
        <div class="modal-content">
            <h3 id="alertTitle" style="margin-bottom: 0.8rem;">名前を入力してください！</h3>
            <p id="alertMessage" style="margin-top: 0; margin-bottom: 1.5rem;">名前を入力してください！</p>
            <div class="modal-buttons">
                <button onclick="closeAlertModal()">OK</button>
            </div>
        </div>
    </div>

    <!-- Confirm Modal -->
    <div class="modal" id="confirmModal" style="display: none;">
        <div class="modal-content">
            <h3 id="confirmTitle" style="margin-bottom: 0.8rem;">确定删除分区吗？所有书签都将丢失！?</h3>
            <p id="confirmMessage" style="margin-top: 0; margin-bottom: 1.5rem;">确定删除分区吗？所有书签都将丢失！</p>
            <div class="modal-buttons">
                <button class="cancel" onclick="closeConfirmModal()">Abbrechen</button>
                <button id="confirmButton">OK</button>
            </div>
        </div>
    </div>

    <script>
        // Optimized Drag and Drop System
        let dragState = {
            isDragging: false,
            draggedElement: null,
            draggedIndex: null,
            draggedSectionId: null,
            startPos: { x: 0, y: 0 },
            longPressTimer: null,
            isLongPress: false,
            lastTargetElement: null
        };

        function setupDragAndDrop(sectionId) {
            const bookmarkItems = document.querySelectorAll(`#grid-${sectionId} .bookmark-item`);
            
            bookmarkItems.forEach((item, index) => {
                // Remove existing event listeners to prevent duplicates
                item.removeEventListener('mousedown', handleMouseDown);
                item.removeEventListener('touchstart', handleTouchStart);
                
                // Add new event listeners
                item.addEventListener('mousedown', handleMouseDown);
                item.addEventListener('touchstart', handleTouchStart, { passive: false });
                
                // Prevent default link behavior during drag operations
                item.addEventListener('click', (e) => {
                    if (dragState.isLongPress || dragState.isDragging) {
                        e.preventDefault();
                        dragState.isLongPress = false;
                    }
                });
            });
        }

        function handleMouseDown(e) {
            if (e.button !== 0) return; // Only left mouse button
            
            const startX = e.clientX;
            const startY = e.clientY;
            const item = e.currentTarget;
            
            dragState.longPressTimer = setTimeout(() => {
                startDragging(item, startX, startY);
            }, 500); // 500ms long press
            
            const mouseUpHandler = () => {
                clearTimeout(dragState.longPressTimer);
                document.removeEventListener('mouseup', mouseUpHandler);
                document.removeEventListener('mousemove', mouseMoveHandler);
            };
            
            const mouseMoveHandler = (e) => {
                const distance = Math.sqrt(
                    Math.pow(e.clientX - startX, 2) + Math.pow(e.clientY - startY, 2)
                );
                if (distance > 10) {
                    clearTimeout(dragState.longPressTimer);
                }
            };
            
            document.addEventListener('mouseup', mouseUpHandler);
            document.addEventListener('mousemove', mouseMoveHandler);
        }

        function handleTouchStart(e) {
            e.preventDefault(); // Prevent scrolling during touch
            e.stopPropagation(); // 防止事件冒泡
            
            const touch = e.touches[0];
            const startX = touch.clientX;
            const startY = touch.clientY;
            const item = e.currentTarget;
            
            // Enhanced touch tracking
            let isTap = true;
            let hasMoved = false;
            let startTime = Date.now();
            
            // Prevent accidental navigation during scroll/swipe
            const maxTapDistance = 10; // pixels
            const maxTapDuration = 300; // milliseconds
            
            dragState.longPressTimer = setTimeout(() => {
                startDragging(item, startX, startY);
                isTap = false;
                // Add haptic feedback if available
                if (navigator.vibrate) {
                    navigator.vibrate(50);
                }
            }, 600); // 600ms long press for touch
            
            const touchEndHandler = (e) => {
                clearTimeout(dragState.longPressTimer);
                document.removeEventListener('touchend', touchEndHandler);
                document.removeEventListener('touchmove', touchMoveHandler);
                
                const endTime = Date.now();
                const duration = endTime - startTime;
                
                // Enhanced tap detection
                if (isTap && !dragState.isDragging && !hasMoved && duration < maxTapDuration) {
                    // This was a deliberate tap
                    const url = item.getAttribute('href');
                    if (url) {
                        e.preventDefault();
                        window.open(url, '_blank');
                    }
                }
            };
            
            const touchMoveHandler = (e) => {
                const touch = e.touches[0];
                const distance = Math.sqrt(
                    Math.pow(touch.clientX - startX, 2) + Math.pow(touch.clientY - startY, 2)
                );
                
                if (distance > maxTapDistance) {
                    hasMoved = true;
                    clearTimeout(dragState.longPressTimer);
                    isTap = false;
                }
            };
            
            document.addEventListener('touchend', touchEndHandler);
            document.addEventListener('touchmove', touchMoveHandler, { passive: false });
        }

        function startDragging(element, startX, startY) {
            dragState.isDragging = true;
            dragState.isLongPress = true;
            dragState.draggedElement = element;
            dragState.draggedIndex = parseInt(element.dataset.index);
            dragState.draggedSectionId = element.dataset.sectionId;
    
            // Create visual clone
            const clone = element.cloneNode(true);
            clone.style.position = 'fixed';
            clone.style.width = element.offsetWidth + 'px';
            clone.style.zIndex = '1001';
            clone.style.opacity = '0.9';
            clone.style.pointerEvents = 'none';
            clone.style.transform = 'rotate(2deg) scale(1.02)';
            clone.style.boxShadow = '0 20px 40px rgba(0, 0, 0, 0.6)';
            clone.id = 'dragClone';
            document.body.appendChild(clone);
    
            // Mark original element as dragging
            element.classList.add('dragging');
    
            const rect = element.getBoundingClientRect();
            const offsetX = startX - rect.left;
            const offsetY = startY - rect.top;
    
            function moveClone(e) {
                if (!dragState.isDragging) return;
                e.preventDefault();
    
                const x = (e.type === 'mousemove' ? e.clientX : e.touches[0].clientX) - offsetX;
                const y = (e.type === 'mousemove' ? e.clientY : e.touches[0].clientY) - offsetY;
                clone.style.left = x + 'px';
                clone.style.top = y + 'px';
    
                const mouseY = e.type === 'mousemove' ? e.clientY : e.touches[0].clientY;
                const mouseX = e.type === 'mousemove' ? e.clientX : e.touches[0].clientX;
                updateDragTarget(mouseX, mouseY);
            }
    
            function endDrag(e) {
                if (!dragState.isDragging) return;
    
                const cloneElement = document.getElementById('dragClone');
                if (cloneElement) {
                    document.body.removeChild(cloneElement);
                }
                
                element.classList.remove('dragging');
                clearDragTargets();
    
                document.removeEventListener('mousemove', moveClone);
                document.removeEventListener('touchmove', moveClone);
                document.removeEventListener('mouseup', endDrag);
                document.removeEventListener('touchend', endDrag);
    
                // Finalize the drag operation
                if (dragState.lastTargetElement && dragState.lastTargetElement !== element) {
                    const targetIndex = parseInt(dragState.lastTargetElement.dataset.index);
                    performSwap(dragState.draggedIndex, targetIndex);
                }
    
                resetDragState();
            }
    
            // Position the clone initially
            clone.style.left = rect.left + 'px';
            clone.style.top = rect.top + 'px';
    
            document.addEventListener('mousemove', moveClone);
            document.addEventListener('touchmove', moveClone, { passive: false });
            document.addEventListener('mouseup', endDrag);
            document.addEventListener('touchend', endDrag);
        }

        function updateDragTarget(mouseX, mouseY) {
            const grid = document.getElementById(`grid-${dragState.draggedSectionId}`);
            const items = Array.from(grid.querySelectorAll('.bookmark-item:not(.dragging)'));
    
            // Clear previous target
            if (dragState.lastTargetElement) {
                dragState.lastTargetElement.classList.remove('drag-target');
            }
    
            // Find the closest item
            let closestItem = null;
            let minDistance = Infinity;
    
            items.forEach(item => {
                const rect = item.getBoundingClientRect();
                const itemCenterX = rect.left + rect.width / 2;
                const itemCenterY = rect.top + rect.height / 2;
                
                // Calculate distance from mouse to item center
                const distance = Math.sqrt(
                    Math.pow(mouseX - itemCenterX, 2) + 
                    Math.pow(mouseY - itemCenterY, 2)
                );
                
                // Check if mouse is within the item bounds
                if (mouseX >= rect.left && mouseX <= rect.right && 
                    mouseY >= rect.top && mouseY <= rect.bottom) {
                    if (distance < minDistance) {
                        minDistance = distance;
                        closestItem = item;
                    }
                }
            });
    
            // Set new target
            if (closestItem) {
                closestItem.classList.add('drag-target');
                dragState.lastTargetElement = closestItem;
            } else {
                dragState.lastTargetElement = null;
            }
        }

        function performSwap(fromIndex, toIndex) {
            if (fromIndex === toIndex) return;
            
            const section = bookmarkSections.find(s => s.id === dragState.draggedSectionId);
            if (!section) return;
    
            // Perform the swap in the data array
            const [movedBookmark] = section.bookmarks.splice(fromIndex, 1);
            section.bookmarks.splice(toIndex, 0, movedBookmark);
            
            // Save and re-render
            saveSections();
            renderBookmarks(dragState.draggedSectionId);
        }

        function clearDragTargets() {
            const items = document.querySelectorAll('.bookmark-item.drag-target');
            items.forEach(item => item.classList.remove('drag-target'));
        }

        function resetDragState() {
            dragState.isDragging = false;
            dragState.draggedElement = null;
            dragState.draggedIndex = null;
            dragState.draggedSectionId = null;
            dragState.isLongPress = false;
            dragState.lastTargetElement = null;
        }

        // Sternenhimmel-Partikel-System
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            
            particlesContainer.innerHTML = '';

            // Statische Sterne erstellen
            function createStars() {
                const starCount = 100;
                
                for (let i = 0; i < starCount; i++) {
                    const star = document.createElement('div');
                    const starType = Math.random();
                    
                    if (starType < 0.7) {
                        star.className = 'particle star';
                        star.style.width = (Math.random() * 2 + 1) + 'px';
                        star.style.height = star.style.width;
                    } else if (starType < 0.9) {
                        star.className = 'particle blue-star';
                        star.style.width = (Math.random() * 1.5 + 0.8) + 'px';
                        star.style.height = star.style.width;
                    } else {
                        star.className = 'particle distant-star';
                        star.style.width = (Math.random() * 1 + 0.5) + 'px';
                        star.style.height = star.style.width;
                    }
                    
                    star.style.left = Math.random() * 100 + '%';
                    star.style.top = Math.random() * 100 + '%';
                    star.style.animationDelay = Math.random() * 4 + 's';
                    star.style.animationDuration = (Math.random() * 3 + 3) + 's';
                    
                    particlesContainer.appendChild(star);
                }
            }
            
            // Sternschnuppen erstellen
            function createShootingStar() {
                const shootingStar = document.createElement('div');
                shootingStar.className = 'particle shooting-star';
                
                const size = Math.random() * 3 + 2;
                shootingStar.style.width = size + 'px';
                shootingStar.style.height = (size / 3) + 'px';
                
                const startY = Math.random() * window.innerHeight * 0.6;
                shootingStar.style.left = '-100px';
                shootingStar.style.top = startY + 'px';
                
                particlesContainer.appendChild(shootingStar);
                
                setTimeout(() => {
                    if (shootingStar.parentNode) {
                        shootingStar.parentNode.removeChild(shootingStar);
                    }
                }, 3000);
            }
            
            // Initialisierung
            createStars();
            
            // Sternschnuppen in zufälligen Intervallen
            function randomShootingStar() {
                createShootingStar();
                setTimeout(randomShootingStar, Math.random() * 8000 + 5000);
            }
            
            setTimeout(randomShootingStar, Math.random() * 3000 + 2000);
        }

        // Suche
        const searchInput = document.getElementById('searchInput');
        const searchButton = document.getElementById('searchButton');
        const searchEngineBtn = document.getElementById('searchEngineBtn');
        
        // Search engine persistence
        let currentSearchEngine = localStorage.getItem('zane-search-engine') || 'edge';
        
        function loadSearchEngine() {
            const engineName = getEngineDisplayName(currentSearchEngine);
            searchEngineBtn.textContent = engineName;
        }
        
        function updateSearchEngineDisplay() {
            // Update display based on current language
            const displayName = getEngineDisplayName(currentSearchEngine);
            searchEngineBtn.textContent = displayName;
            
            // Update dropdown options
            document.querySelectorAll('.search-engine-option').forEach(option => {
                const engine = option.getAttribute('data-engine');
                if (engine === 'tiktok') {
                    option.textContent = currentLanguage === 'zh' ? '抖音' : 'TikTok';
                } else if (engine === 'zhihu') {
                    option.textContent = currentLanguage === 'zh' ? '知乎' : 'Zhihu';
                }
            });
        }
        
        function getEngineDisplayName(engine) {
            const names = {
                edge: 'Edge',
                google: 'Google',
                youtube: 'YouTube',
                bilibili: 'Bilibili',
                tiktok: currentLanguage === 'zh' ? '抖音' : 'TikTok',
                zhihu: '知乎',
                douyin: '抖音'
            };
            return names[engine] || 'Edge';
        }
        
        function saveSearchEngine(engine) {
            currentSearchEngine = engine;
            localStorage.setItem('zane-search-engine', engine);
        }

        const searchUrls = {
            bilibili: 'https://search.bilibili.com/all?keyword=',
            google: 'https://www.google.com/search?q=',
            youtube: 'https://www.youtube.com/results?search_query=',
            zhihu: 'https://www.zhihu.com/search?type=content&q=',
            edge: 'https://www.bing.com/search?q=',
            tiktok: 'https://www.tiktok.com/search?q=',
            douyin: 'https://www.douyin.com/search/'
        };

        function performSearch() {
            const query = searchInput.value.trim();
            
            if (query) {
                const encodedQuery = encodeURIComponent(query);
                let engine = currentSearchEngine;
                
                // Use Douyin for Chinese language when TikTok is selected
                if (currentLanguage === 'zh' && engine === 'tiktok') {
                    engine = 'douyin';
                }
                
                const searchUrl = searchUrls[engine] + encodedQuery;
                window.open(searchUrl, '_blank');
            }
        }

        searchButton.addEventListener('click', performSearch);
        searchInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                performSearch();
            }
        });

        // Lesezeichen- und Bereich-Management
        let bookmarkSections = [];
        let currentSectionId = null;
        let currentRenameId = null;

        function loadSections() {
            const stored = localStorage.getItem('zanes-sections');
            const langData = translations[currentLanguage] || translations.de;
            
            if (!stored) {
                // Default sections for first-time visitors
                bookmarkSections = [
                    {
                        id: 'main',
                        name: langData.defaultSection,
                        bookmarks: [
                            { name: 'GitHub', url: 'https://github.com/', desc: langData.githubDesc },
                            { name: 'Google Translate', url: 'https://translate.google.com/', desc: langData.googleTranslateDesc },
                            { name: 'Bilibili', url: 'https://www.bilibili.com/', desc: langData.bilibiliDesc },
                            { name: 'YouTube', url: 'https://www.youtube.com/', desc: langData.youtubeDesc }
                        ],
                        isDefault: true
                    },
                    {
                        id: 'additional',
                        name: langData.additionalSection,
                        bookmarks: [],
                        isDefault: false
                    }
                ];
                saveSections();
            } else {
                try {
                    bookmarkSections = JSON.parse(stored);
                    
                    // Ensure main section exists with proper structure and default bookmarks
                    let mainSection = bookmarkSections.find(s => s.id === 'main');
                    if (!mainSection) {
                        mainSection = {
                            id: 'main',
                            name: langData.defaultSection,
                            bookmarks: [
                                { name: 'GitHub', url: 'https://github.com/', desc: langData.githubDesc },
                                { name: 'Google Translate', url: 'https://translate.google.com/', desc: langData.googleTranslateDesc },
                                { name: 'Bilibili', url: 'https://www.bilibili.com/', desc: langData.bilibiliDesc },
                                { name: 'YouTube', url: 'https://www.youtube.com/', desc: langData.youtubeDesc }
                            ],
                            isDefault: true
                        };
                        bookmarkSections.unshift(mainSection);
                        saveSections();
                    } else if (mainSection.bookmarks.length === 0) {
                        // Restore default bookmarks if main section exists but is empty
                        mainSection.bookmarks = [
                            { name: 'GitHub', url: 'https://github.com/', desc: langData.githubDesc },
                            { name: 'Google Translate', url: 'https://translate.google.com/', desc: langData.googleTranslateDesc },
                            { name: 'Bilibili', url: 'https://www.bilibili.com/', desc: langData.bilibiliDesc },
                            { name: 'YouTube', url: 'https://www.youtube.com/', desc: langData.youtubeDesc }
                        ];
                        saveSections();
                    }
                    
                    // Ensure additional section exists
                    let additionalSection = bookmarkSections.find(s => s.id === 'additional');
                    if (!additionalSection) {
                        additionalSection = {
                            id: 'additional',
                            name: langData.additionalSection,
                            bookmarks: [],
                            isDefault: false
                        };
                        bookmarkSections.push(additionalSection);
                        saveSections();
                    }
                    
                } catch (e) {
                    console.error('Error parsing stored sections:', e);
                    // Fallback to default sections if parsing fails
                    bookmarkSections = [
                        {
                            id: 'main',
                            name: langData.defaultSection,
                            bookmarks: [
                                { name: 'GitHub', url: 'https://github.com/', desc: langData.githubDesc },
                                { name: 'Google Translate', url: 'https://translate.google.com/', desc: langData.googleTranslateDesc },
                                { name: 'Bilibili', url: 'https://www.bilibili.com/', desc: langData.bilibiliDesc },
                                { name: 'YouTube', url: 'https://www.youtube.com/', desc: langData.youtubeDesc }
                            ],
                            isDefault: true
                        },
                        {
                            id: 'additional',
                            name: langData.additionalSection,
                            bookmarks: [],
                            isDefault: false
                        }
                    ];
                    saveSections();
                }
            }
            renderSections();
        }

        function saveSections() {
            localStorage.setItem('zanes-sections', JSON.stringify(bookmarkSections));
        }

        function renderSections() {
            const container = document.getElementById('bookmarkSections');
            container.innerHTML = '';
            
            bookmarkSections.forEach(section => {
                const sectionElement = document.createElement('div');
                sectionElement.className = 'bookmark-section';
                const langData = translations[currentLanguage] || translations.de;
                sectionElement.innerHTML = `
                    <div class="section-header">
                        <h2 class="section-title">${section.name}</h2>
                        <div class="section-controls">
                            <button class="add-bookmark" data-section-id="${section.id}">
                                <svg class="plus-icon">
                                    <use href="#plus-icon"/>
                                </svg>
                                <span class="add-text">${langData.addBookmarkBtn}</span>
                            </button>
                            ${!section.isDefault ? `
                                <button class="rename-section" data-section-id="${section.id}" title="${langData.editPrompt}">
                                    <svg class="edit-icon">
                                        <use href="#edit-icon"/>
                                    </svg>
                                </button>
                                <button class="delete-section" data-section-id="${section.id}" title="${langData.deletePrompt}">
                                    <svg class="delete-icon">
                                        <use href="#delete-icon"/>
                                    </svg>
                                </button>
                            ` : ''}
                        </div>
                    </div>
                    <div class="bookmark-grid" id="grid-${section.id}"></div>
                `;
                container.appendChild(sectionElement);
                renderBookmarks(section.id);
            });
            
            setupSectionEventListeners();
        }

        function setupSectionEventListeners() {
            document.querySelectorAll('.add-bookmark').forEach(button => {
                button.addEventListener('click', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    const sectionId = button.getAttribute('data-section-id');
                    openBookmarkModal(sectionId);
                });
            });
            
            document.querySelectorAll('.rename-section').forEach(button => {
                button.addEventListener('click', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    const sectionId = button.getAttribute('data-section-id');
                    openRenameModal(sectionId);
                });
            });
            
            document.querySelectorAll('.delete-section').forEach(button => {
                button.addEventListener('click', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    const sectionId = button.getAttribute('data-section-id');
                    deleteSection(sectionId);
                });
            });
        }

        function renderBookmarks(sectionId) {
            const section = bookmarkSections.find(s => s.id === sectionId);
            if (!section) return;
            
            const grid = document.getElementById(`grid-${sectionId}`);
            if (!grid) return;
            
            grid.innerHTML = '';
            
            section.bookmarks.forEach((bookmark, index) => {
                const bookmarkItem = document.createElement('a');
                bookmarkItem.href = bookmark.url;
                bookmarkItem.target = '_blank';
                bookmarkItem.className = 'bookmark-item';
                bookmarkItem.dataset.sectionId = sectionId;
                bookmarkItem.dataset.index = index;
                bookmarkItem.draggable = false;
                
                const initials = getInitials(bookmark.name);
                
                bookmarkItem.innerHTML = `
                    <div class="bookmark-icon">${initials}</div>
                    <div class="bookmark-info">
                        <h3>${bookmark.name}</h3>
                        <p>${bookmark.desc || ''}</p>
                    </div>
                    <button class="remove-bookmark" data-section-id="${sectionId}" data-index="${index}">
                        <svg class="delete-icon">
                            <use href="#delete-icon"></use>
                        </svg>
                    </button>
                `;
                
                grid.appendChild(bookmarkItem);
            });
            
            setupDragAndDrop(sectionId);
            setupRemoveButtons(sectionId);
        }

        function setupRemoveButtons(sectionId) {
            const grid = document.getElementById(`grid-${sectionId}`);
            if (!grid) return;
            
            grid.querySelectorAll('.remove-bookmark').forEach(button => {
                // Remove existing listeners to prevent duplicates
                button.removeEventListener('click', handleRemoveClick);
                button.removeEventListener('touchend', handleRemoveTouch);
                
                // Add new listeners
                button.addEventListener('click', handleRemoveClick);
                button.addEventListener('touchend', handleRemoveTouch);
                
                function handleRemoveClick(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    handleRemove(e);
                }
                
                function handleRemoveTouch(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    handleRemove(e);
                }
                
                function handleRemove(e) {
                    const sectionId = e.currentTarget.getAttribute('data-section-id');
                    const index = parseInt(e.currentTarget.getAttribute('data-index'));
                    
                    const langData = translations[currentLanguage] || translations.de;
                    showConfirm(
                        langData.deleteBookmarkConfirm.split('?')[0] + '?',
                        langData.deleteBookmarkConfirm,
                        () => {
                            const section = bookmarkSections.find(s => s.id === sectionId);
                            if (section) {
                                section.bookmarks.splice(index, 1);
                                saveSections();
                                renderBookmarks(sectionId);
                            }
                        }
                    );
                }
            });
        }

        function getInitials(name) {
            if (!name) return '?';
            return name.split(' ').map(word => word[0]).join('').substring(0, 2).toUpperCase();
        }

        function addSection() {
            const name = document.getElementById('sectionName').value.trim();
            const langData = translations[currentLanguage] || translations.de;
            if (!name) {
                showAlert(langData.sectionNameRequired || 'Please enter a name!', langData.sectionNameRequired || 'Please enter a name!');
                return;
            }
            
            const newSection = {
                id: 'section_' + Date.now().toString(),
                name: name,
                bookmarks: [],
                isDefault: false
            };
            
            bookmarkSections.push(newSection);
            saveSections();
            renderSections();
            closeSectionModal();
        }

        function deleteSection(sectionId) {
            const langData = translations[currentLanguage] || translations.de;
            showConfirm(
                langData.deleteConfirm.split('?')[0] + '?',
                langData.deleteConfirm,
                () => {
                    bookmarkSections = bookmarkSections.filter(s => s.id !== sectionId);
                    saveSections();
                    renderSections();
                }
            );
        }

        function openRenameModal(sectionId) {
            currentRenameId = sectionId;
            const section = bookmarkSections.find(s => s.id === sectionId);
            const modal = document.getElementById('renameSectionModal');
            document.getElementById('newSectionName').value = section.name;
            modal.style.display = 'flex';
            // Force reflow to ensure transition starts from initial state
            modal.offsetHeight;
            modal.classList.add('show');
            document.body.classList.add('modal-open');
            document.getElementById('newSectionName').focus();
        }

        function confirmRename() {
            const newName = document.getElementById('newSectionName').value.trim();
            const langData = translations[currentLanguage] || translations.de;
            if (!newName) {
                showAlert(langData.sectionNameRequired || 'Please enter a name!', langData.sectionNameRequired || 'Please enter a name!');
                return;
            }
            
            const section = bookmarkSections.find(s => s.id === currentRenameId);
            if (section) {
                section.name = newName;
                saveSections();
                renderSections();
            }
            closeRenameModal();
        }

        function addBookmark() {
            const name = document.getElementById('bookmarkName').value.trim();
            const url = document.getElementById('bookmarkUrl').value.trim();
            const desc = document.getElementById('bookmarkDesc').value.trim();
            const langData = translations[currentLanguage] || translations.de;
            
            if (!name || !url) {
                showAlert(langData.bookmarkRequired || 'Please enter name and URL!', langData.bookmarkRequired || 'Please enter name and URL!');
                return;
            }
            
            const section = bookmarkSections.find(s => s.id === currentSectionId);
            if (section) {
                section.bookmarks.push({ name, url, desc });
                saveSections();
                renderBookmarks(currentSectionId);
            }
            closeBookmarkModal();
        }

        function removeBookmark(sectionId, index) {
            const langData = translations[currentLanguage] || translations.de;
            showConfirm(
                langData.deleteBookmarkConfirm.split('?')[0] + '?',
                langData.deleteBookmarkConfirm,
                () => {
                    const section = bookmarkSections.find(s => s.id === sectionId);
                    if (section) {
                        section.bookmarks.splice(index, 1);
                        saveSections();
                        renderBookmarks(sectionId);
                    }
                }
            );
        }

        // Modal functions
        function openBookmarkModal(sectionId) {
            currentSectionId = sectionId;
            const modal = document.getElementById('addBookmarkModal');
            modal.style.display = 'flex';
            // Force reflow to ensure transition starts from initial state
            modal.offsetHeight;
            modal.classList.add('show');
            document.body.classList.add('modal-open');
            document.getElementById('bookmarkName').focus();
        }

        // Async title fetching functionality
        async function fetchPageTitle(url) {
            if (!url || !url.startsWith('http')) return null;
            
            try {
                // Use a CORS proxy to fetch the page title
                const proxyUrl = `https://api.allorigins.win/get?url=${encodeURIComponent(url)}`;
                const response = await fetch(proxyUrl);
                const data = await response.json();
                
                if (data && data.contents) {
                    // Parse the HTML to extract the title
                    const titleMatch = data.contents.match(/<title[^>]*>([^<]+)<\/title>/i);
                    if (titleMatch && titleMatch[1]) {
                        return titleMatch[1].trim();
                    }
                }
            } catch (error) {
                console.warn('Failed to fetch page title:', error);
            }
            return null;
        }

        function setupTitleFetching() {
            const urlInput = document.getElementById('bookmarkUrl');
            const nameInput = document.getElementById('bookmarkName');
            let fetchTimeout;

            urlInput.addEventListener('input', () => {
                clearTimeout(fetchTimeout);
                fetchTimeout = setTimeout(async () => {
                    const url = urlInput.value.trim();
                    if (url && !nameInput.value) { // Only fetch if name field is empty
                        const title = await fetchPageTitle(url);
                        if (title) {
                            nameInput.value = title;
                            // Select the text so user can easily edit or overwrite
                            nameInput.select();
                        }
                    }
                }, 1000); // Wait 1 second after user stops typing
            });

            urlInput.addEventListener('blur', async () => {
                const url = urlInput.value.trim();
                if (url && !nameInput.value) {
                    const title = await fetchPageTitle(url);
                    if (title) {
                        nameInput.value = title;
                        nameInput.select();
                    }
                }
            });

            urlInput.addEventListener('keydown', (e) => {
                if (e.key === 'Enter') {
                    clearTimeout(fetchTimeout);
                    const url = urlInput.value.trim();
                    if (url && !nameInput.value) {
                        fetchPageTitle(url).then(title => {
                            if (title) {
                                nameInput.value = title;
                                nameInput.select();
                            }
                        });
                    }
                }
            });
        }

        function closeBookmarkModal() {
            const modal = document.getElementById('addBookmarkModal');
            modal.classList.remove('show');
            setTimeout(() => {
                modal.style.display = 'none';
                document.getElementById('bookmarkName').value = '';
                document.getElementById('bookmarkUrl').value = '';
                document.getElementById('bookmarkDesc').value = '';
                currentSectionId = null;
                document.body.classList.remove('modal-open');
            }, 300);
        }

        function openSectionModal() {
            const modal = document.getElementById('addSectionModal');
            modal.style.display = 'flex';
            // Force reflow to ensure transition starts from initial state
            modal.offsetHeight;
            modal.classList.add('show');
            document.body.classList.add('modal-open');
            document.getElementById('sectionName').focus();
        }

        function closeSectionModal() {
            const modal = document.getElementById('addSectionModal');
            modal.classList.remove('show');
            setTimeout(() => {
                modal.style.display = 'none';
                document.getElementById('sectionName').value = '';
                document.body.classList.remove('modal-open');
            }, 300);
        }

        function closeRenameModal() {
            const modal = document.getElementById('renameSectionModal');
            modal.classList.remove('show');
            setTimeout(() => {
                modal.style.display = 'none';
                document.getElementById('newSectionName').value = '';
                currentRenameId = null;
                document.body.classList.remove('modal-open');
            }, 300);
        }

        // Styled alert and confirm functions
        function showAlert(title, message) {
            const modal = document.getElementById('alertModal');
            const titleEl = document.getElementById('alertTitle');
            const messageEl = document.getElementById('alertMessage');
            
            titleEl.textContent = title;
            messageEl.textContent = message;
            
            modal.style.display = 'flex';
            // Force reflow to ensure transition starts from initial state
            modal.offsetHeight;
            modal.classList.add('show');
            document.body.classList.add('modal-open');
        }

        function closeAlertModal() {
            const modal = document.getElementById('alertModal');
            modal.classList.remove('show');
            setTimeout(() => {
                modal.style.display = 'none';
                document.body.classList.remove('modal-open');
            }, 300);
        }

        function showConfirm(title, message, onConfirm) {
            const modal = document.getElementById('confirmModal');
            const titleEl = document.getElementById('confirmTitle');
            const messageEl = document.getElementById('confirmMessage');
            const confirmBtn = document.getElementById('confirmButton');
            const cancelBtn = modal.querySelector('.cancel');
            
            titleEl.textContent = title;
            messageEl.textContent = message;
            
            // Prevent event bubbling to avoid bookmark navigation
            const preventBubbling = (e) => {
                e.stopPropagation();
                e.preventDefault();
            };
            
            // Set up confirm button action
            confirmBtn.onclick = (e) => {
                preventBubbling(e);
                closeConfirmModal();
                onConfirm();
            };
            
            // Set up cancel button action
            cancelBtn.onclick = (e) => {
                preventBubbling(e);
                closeConfirmModal();
            };
            
            modal.style.display = 'flex';
            // Force reflow to ensure transition starts from initial state
            modal.offsetHeight;
            modal.classList.add('show');
            document.body.classList.add('modal-open');
        }

        function closeConfirmModal() {
            const modal = document.getElementById('confirmModal');
            modal.classList.remove('show');
            setTimeout(() => {
                modal.style.display = 'none';
                document.body.classList.remove('modal-open');
            }, 300);
        }

        // Language Menu Functionality
        const languageBtn = document.getElementById('languageBtn');
        const languageDropdown = document.getElementById('languageDropdown');
        let languageOpen = false;
        
        languageBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            languageOpen = !languageOpen;
            toggleDropdown(languageDropdown, languageOpen);
            
            // Close other dropdown
            if (languageOpen) {
                toggleDropdown(searchEngineDropdown, false);
                searchEngineOpen = false;
            }
        });

        // Enhanced close dropdown when clicking outside
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.search-selector') && !e.target.closest('.language-menu')) {
                toggleDropdown(searchEngineDropdown, false);
                toggleDropdown(languageDropdown, false);
                searchEngineOpen = false;
                languageOpen = false;
            }
        });

        // Translations dictionary
        const translations = {
            de: {
                logo: "Zanes Startseite",
                searchPlaceholder: "Suchbegriff eingeben...",
                searchButton: "Suchen",
                addSection: "+ Neuen Bereich hinzufügen",
                addBookmarkTitle: "Neues Lesezeichen hinzufügen",
                bookmarkName: "Name der Website",
                bookmarkUrl: "https://example.com",
                bookmarkDesc: "Kurze Beschreibung",
                cancel: "Abbrechen",
                add: "Hinzufügen",
                createSection: "Neuen Bereich erstellen",
                sectionName: "Name des Bereichs",
                create: "Erstellen",
                renameSection: "Bereich umbenennen",
                newName: "Neuer Name",
                rename: "Umbenennen",
                deleteConfirm: "Bereich wirklich löschen? Alle Lesezeichen gehen verloren!",
                deleteBookmarkConfirm: "Lesezeichen wirklich entfernen?",
                defaultSection: "Meine Lesezeichen",
                additionalSection: "Weitere Lesezeichen",
                addBookmarkBtn: "Hinzufügen",
                editBtn: "✏️",
                deleteBtn: "🗑️",
                moreBtn: "Mehr",
                editPrompt: "Klicken Sie zum Bearbeiten",
                deletePrompt: "Klicken Sie zum Löschen",
                editWarning: "Achtung: Änderungen können nicht rückgängig gemacht werden",
                deleteWarning: "Achtung: Dieser Vorgang kann nicht rückgängig gemacht werden",
                sectionNameRequired: "Bitte einen Namen eingeben!",
                bookmarkRequired: "Bitte Name und URL eingeben!",
                githubDesc: "Code-Repository",
                googleTranslateDesc: "Übersetzungsdienst",
                bilibiliDesc: "Video-Community",
                youtubeDesc: "Video-Plattform",
                typewriterPhrases: [
                    "Zanes Startseite",
                    "Jeder Tag ist ein neuer Commit.",
                    "Nur wer sich traut, kann sich verändern.",
                    "Nicht jeder Fehler ist ein Rückschritt."
                ]
            },
            en: {
                logo: "Zane's Startpage",
                searchPlaceholder: "Enter search term...",
                searchButton: "Search",
                addSection: "+ Add New Section",
                addBookmarkTitle: "Add New Bookmark",
                bookmarkName: "Website Name",
                bookmarkUrl: "https://example.com",
                bookmarkDesc: "Short Description",
                cancel: "Cancel",
                add: "Add",
                createSection: "Create New Section",
                sectionName: "Section Name",
                create: "Create",
                renameSection: "Rename Section",
                newName: "New Name",
                rename: "Rename",
                deleteConfirm: "Really delete section? All bookmarks will be lost!",
                deleteBookmarkConfirm: "Really remove bookmark?",
                defaultSection: "My Bookmarks",
                additionalSection: "Additional Bookmarks",
                addBookmarkBtn: "Add",
                editBtn: "✏️",
                deleteBtn: "🗑️",
                moreBtn: "More",
                editPrompt: "Click to edit",
                deletePrompt: "Click to delete",
                editWarning: "Warning: Changes cannot be undone",
                deleteWarning: "Warning: This action cannot be undone",
                sectionNameRequired: "Please enter a name!",
                bookmarkRequired: "Please enter name and URL!",
                githubDesc: "Code repository",
                googleTranslateDesc: "Translation service",
                bilibiliDesc: "Video community",
                youtubeDesc: "Video platform",
                typewriterPhrases: [
                    "Zane's Startpage",
                    "Every day is a new commit.",
                    "Only those who dare can change.",
                    "Not every error is a setback."
                ]
            },
            nl: {
                logo: "Zane's Startpagina",
                searchPlaceholder: "Zoekterm invoeren...",
                searchButton: "Zoeken",
                addSection: "+ Nieuwe sectie toevoegen",
                addBookmarkTitle: "Nieuw bladwijzer toevoegen",
                bookmarkName: "Website naam",
                bookmarkUrl: "https://voorbeeld.com",
                bookmarkDesc: "Korte beschrijving",
                cancel: "Annuleren",
                add: "Toevoegen",
                createSection: "Nieuwe sectie maken",
                sectionName: "Sectienaam",
                create: "Maken",
                renameSection: "Sectie hernoemen",
                newName: "Nieuwe naam",
                rename: "Hernoemen",
                deleteConfirm: "Sectie echt verwijderen? Alle bladwijzers gaan verloren!",
                deleteBookmarkConfirm: "Bladwijzer echt verwijderen?",
                defaultSection: "Mijn bladwijzers",
                additionalSection: "Extra bladwijzers",
                addBookmarkBtn: "Toevoegen",
                editBtn: "✏️",
                deleteBtn: "🗑️",
                moreBtn: "Meer",
                editPrompt: "Klik om te bewerken",
                deletePrompt: "Klik om te verwijderen",
                editWarning: "Waarschuwing: Wijzigingen kunnen niet ongedaan worden gemaakt",
                deleteWarning: "Waarschuwing: Deze actie kan niet ongedaan worden gemaakt",
                sectionNameRequired: "Voer een naam in!",
                bookmarkRequired: "Voer naam en URL in!",
                githubDesc: "Code-repository",
                googleTranslateDesc: "Vertaaldienst",
                bilibiliDesc: "Videogemeenschap",
                youtubeDesc: "Videoplatform",
                typewriterPhrases: [
                    "Zane's Startpagina",
                    "Elke dag is een nieuwe commit",
                    "Alleen wie durft, kan veranderen",
                    "Niet elke fout is een tegenslag"
                ]
            },
            gsw: {
                logo: "Zanes Startsiite",
                searchPlaceholder: "Suchbegriff iigäh...",
                searchButton: "Sueche",
                addSection: "+ Neue Bereich zuefüege",
                addBookmarkTitle: "Neus Lesezeiche zuefüege",
                bookmarkName: "Name vo de Website",
                bookmarkUrl: "https://biispiel.com",
                bookmarkDesc: "Churzi Beschriibig",
                cancel: "Abbreche",
                add: "Zuefüege",
                createSection: "Neue Bereich erstelle",
                sectionName: "Name vom Bereich",
                create: "Erstelle",
                renameSection: "Bereich umbenenne",
                newName: "Neue Name",
                rename: "Umbennene",
                deleteConfirm: "Bereich würkli lösche? Alli Lesezeiche gönd verlore!",
                deleteBookmarkConfirm: "Lesezeiche würkli entferne?",
                defaultSection: "Mini Lesezeiche",
                additionalSection: "Wyteri Lesezeiche",
                addBookmarkBtn: "Zuefüege",
                editBtn: "✏️",
                deleteBtn: "🗑️",
                moreBtn: "Meh",
                editPrompt: "Klick zum Bearbeite",
                deletePrompt: "Klick zum Lösche",
                editWarning: "Achtig: Änderige chönd nid rückgängig gmacht werde",
                deleteWarning: "Achtig: De Vorgang cha nid rückgängig gmacht werde",
                sectionNameRequired: "Bitte gib en Name i!",
                bookmarkRequired: "Bitte gib Name und URL i!",
                githubDesc: "Code-Repository",
                googleTranslateDesc: "Übersetzigsdienst",
                bilibiliDesc: "Video-Gmeinschaft",
                youtubeDesc: "Video-Plattform",
                typewriterPhrases: [
                    "Zanes Startsiite",
                    "Jede Tag isch en neue Commit",
                    "Nur wer sich traut, cha sich verändere",
                    "Nid jede Fehler isch es Zrugg"
                ]
            },
            fi: {
                logo: "Zanen Aloitussivu",
                searchPlaceholder: "Kirjoita hakusana...",
                searchButton: "Hae",
                addSection: "+ Lisää uusi osio",
                addBookmarkTitle: "Lisää uusi kirjanmerkki",
                bookmarkName: "Verkkosivun nimi",
                bookmarkUrl: "https://esimerkki.com",
                bookmarkDesc: "Lyhyt kuvaus",
                cancel: "Peruuta",
                add: "Lisää",
                createSection: "Luo uusi osio",
                sectionName: "Osion nimi",
                create: "Luo",
                renameSection: "Nimeä osio uudelleen",
                newName: "Uusi nimi",
                rename: "Nimeä uudelleen",
                deleteConfirm: "Haluatko varmasti poistaa osion? Kaikki kirjanmerkit katoavat!",
                deleteBookmarkConfirm: "Haluatko varmasti poistaa kirjanmerkin?",
                defaultSection: "Omat kirjanmerkit",
                additionalSection: "Lisäkirjanmerkit",
                addBookmarkBtn: "Lisää",
                editBtn: "✏️",
                deleteBtn: "🗑️",
                moreBtn: "Lisää",
                editPrompt: "Klikkaa muokataksesi",
                deletePrompt: "Klikkaa poistaaksesi",
                editWarning: "Varoitus: Muutoksia ei voi perua",
                deleteWarning: "Varoitus: Tätä toimintoa ei voi perua",
                sectionNameRequired: "Anna nimi!",
                bookmarkRequired: "Anna nimi ja URL!",
                githubDesc: "Koodivarasto",
                googleTranslateDesc: "Käännöspalvelu",
                bilibiliDesc: "Videoyhteisö",
                youtubeDesc: "Videopalvelu",
                typewriterPhrases: [
                    "Zanen Aloitussivu",
                    "Jokainen päivä on uusi commit",
                    "Vain ne, jotka uskaltavat, voivat muuttua",
                    "Ei jokainen virhe ole takapakki"
                ]
            },
            fr: {
                logo: "Page d'accueil de Zane",
                searchPlaceholder: "Entrez un terme de recherche...",
                searchButton: "Rechercher",
                addSection: "+ Ajouter une nouvelle section",
                addBookmarkTitle: "Ajouter un nouveau favori",
                bookmarkName: "Nom du site web",
                bookmarkUrl: "https://exemple.com",
                bookmarkDesc: "Brève description",
                cancel: "Annuler",
                add: "Ajouter",
                createSection: "Créer une nouvelle section",
                sectionName: "Nom de la section",
                create: "Créer",
                renameSection: "Renommer la section",
                newName: "Nouveau nom",
                rename: "Renommer",
                deleteConfirm: "Voulez-vous vraiment supprimer cette section? Tous les favoris seront perdus!",
                deleteBookmarkConfirm: "Voulez-vous vraiment supprimer ce favori?",
                defaultSection: "Mes favoris",
                additionalSection: "Favoris supplémentaires",
                addBookmarkBtn: "Ajouter",
                editBtn: "✏️",
                deleteBtn: "🗑️",
                moreBtn: "Plus",
                editPrompt: "Cliquez pour modifier",
                deletePrompt: "Cliquez pour supprimer",
                editWarning: "Attention: Les modifications ne peuvent pas être annulées",
                deleteWarning: "Attention: Cette action ne peut pas être annulée",
                sectionNameRequired: "Veuillez entrer un nom!",
                bookmarkRequired: "Veuillez entrer le nom et l'URL!",
                githubDesc: "Dépôt de code",
                googleTranslateDesc: "Service de traduction",
                bilibiliDesc: "Communauté vidéo",
                youtubeDesc: "Plateforme vidéo",
                typewriterPhrases: [
                    "Page d'accueil de Zane",
                    "Chaque jour est un nouveau commit",
                    "Seuls ceux qui osent peuvent changer",
                    "Chaque erreur n'est pas un échec"
                ]
            },
            zh: {
                logo: "Zane的标签页",
                searchPlaceholder: "输入搜索词...",
                searchButton: "搜索",
                addSection: "+ 添加新分区",
                addBookmarkTitle: "添加新书签",
                bookmarkName: "网站名称",
                bookmarkUrl: "https://example.com",
                bookmarkDesc: "简短描述",
                cancel: "取消",
                add: "添加",
                createSection: "创建新分区",
                sectionName: "分区名称",
                create: "创建",
                renameSection: "重命名分区",
                newName: "新名称",
                rename: "重命名",
                deleteConfirm: "确定删除分区吗？所有书签都将丢失！",
                deleteBookmarkConfirm: "确定删除书签吗？",
                defaultSection: "我的书签",
                additionalSection: "其他书签",
                addBookmarkBtn: "添加",
                editBtn: "✏️",
                deleteBtn: "🗑️",
                moreBtn: "更多",
                editPrompt: "点击编辑",
                deletePrompt: "点击删除",
                editWarning: "警告：更改无法撤销",
                deleteWarning: "警告：此操作无法撤销",
                sectionNameRequired: "请输入名称！",
                bookmarkRequired: "请输入名称和URL！",
                githubDesc: "代码仓库",
                googleTranslateDesc: "翻译服务",
                bilibiliDesc: "视频社区",
                youtubeDesc: "视频平台",
                typewriterPhrases: [
                    "Zane的标签页",
                    "「苟日新，日日新」",
                    "「变者非疵，实乃天工」",
                    "「过者非退，或跃在渊」"
                ]
            },
            ja: {
                logo: "Zaneのスタートページ",
                searchPlaceholder: "検索語を入力...",
                searchButton: "検索",
                addSection: "+ 新しいセクションを追加",
                addBookmarkTitle: "新しいブックマークを追加",
                bookmarkName: "ウェブサイト名",
                bookmarkUrl: "https://example.com",
                bookmarkDesc: "簡単な説明",
                cancel: "キャンセル",
                add: "追加",
                createSection: "新しいセクションを作成",
                sectionName: "セクション名",
                create: "作成",
                renameSection: "セクション名を変更",
                newName: "新しい名前",
                rename: "名前変更",
                deleteConfirm: "セクションを本当に削除しますか？すべてのブックマークが失われます！",
                deleteBookmarkConfirm: "ブックマークを本当に削除しますか？",
                defaultSection: "マイブックマーク",
                additionalSection: "追加のブックマーク",
                addBookmarkBtn: "追加",
                editBtn: "✏️",
                deleteBtn: "🗑️",
                moreBtn: "もっと",
                editPrompt: "クリックして編集",
                deletePrompt: "クリックして削除",
                editWarning: "警告：変更は元に戻せません",
                deleteWarning: "警告：この操作は元に戻せません",
                sectionNameRequired: "名前を入力してください！",
                bookmarkRequired: "名前とURLを入力してください！",
                githubDesc: "コードリポジトリ",
                googleTranslateDesc: "翻訳サービス",
                bilibiliDesc: "動画コミュニティ",
                youtubeDesc: "動画プラットフォーム",
                typewriterPhrases: [
                    "Zaneのスタートページ",
                    "「日々是新たなコミット」",
                    "「変化は不具合ではなく、仕様です」",
                    "「エラーもまた、進化の一歩」"
                ]
            }
        };

        // Current language - check localStorage first, default to German for first visit
        let currentLanguage = localStorage.getItem('zane-language') || 'de';
        
        // Ensure German is set as default for first-time visitors
        if (!localStorage.getItem('zane-language')) {
            localStorage.setItem('zane-language', 'de');
            document.documentElement.lang = 'de';
        }

        // Language selection handler
        document.querySelectorAll('.language-option').forEach(option => {
            option.addEventListener('click', (e) => {
                e.stopPropagation();
                const lang = e.target.getAttribute('data-lang');
                if (lang) {
                    currentLanguage = lang;
                    localStorage.setItem('zane-language', lang);
                    document.documentElement.lang = lang;
                    
                    // Force immediate UI update
                    updateUIText();
                    
                    // Close dropdown
                    toggleDropdown(languageDropdown, false);
                    languageOpen = false;
                }
            });
        });

        // Update bookmark descriptions for default bookmarks when language changes
        function updateBookmarkDescriptions() {
            const langData = translations[currentLanguage] || translations.de;
            
            // Find the main section
            const mainSection = bookmarkSections.find(s => s.id === 'main');
            if (mainSection && mainSection.isDefault) {
                // Update descriptions for default bookmarks
                mainSection.bookmarks.forEach(bookmark => {
                    if (bookmark.name === 'GitHub') {
                        bookmark.desc = langData.githubDesc;
                    } else if (bookmark.name === 'Google Translate') {
                        bookmark.desc = langData.googleTranslateDesc;
                    } else if (bookmark.name === 'Bilibili') {
                        bookmark.desc = langData.bilibiliDesc;
                    } else if (bookmark.name === 'YouTube') {
                        bookmark.desc = langData.youtubeDesc;
                    }
                });
                saveSections();
            }
        }

        // Update all UI text elements
        function updateUIText() {
            const langData = translations[currentLanguage] || translations.de;
            
            // Update logo - handled by typewriter animation
            
            // Update search elements
            document.getElementById('searchInput').placeholder = langData.searchPlaceholder;
            document.querySelector('.search-button .search-text').textContent = langData.searchButton;
            
            // Update section buttons
            document.getElementById('addSectionBtn').textContent = langData.addSection;
            
            // Update language button
            document.getElementById('languageBtn').textContent = langData.moreBtn;
            
            // Update modal texts
            document.querySelector('#addBookmarkModal h3').textContent = langData.addBookmarkTitle;
            document.querySelector('#addSectionModal h3').textContent = langData.createSection;
            document.querySelector('#renameSectionModal h3').textContent = langData.renameSection;
            
            // Update button texts
            document.querySelectorAll('.cancel').forEach(btn => {
                btn.textContent = langData.cancel;
            });
            document.querySelector('#addBookmarkModal button:not(.cancel)').textContent = langData.add;
            document.querySelector('#addSectionModal button:not(.cancel)').textContent = langData.create;
            document.querySelector('#renameSectionModal button:not(.cancel)').textContent = langData.rename;
            
            // Update placeholders
            document.getElementById('bookmarkName').placeholder = langData.bookmarkName;
            document.getElementById('bookmarkUrl').placeholder = 'https://example.com';
            document.getElementById('bookmarkDesc').placeholder = langData.bookmarkDesc;
            document.getElementById('sectionName').placeholder = langData.sectionName;
            document.getElementById('newSectionName').placeholder = langData.newName;
            
            // Update section names for default sections (only if they exist)
            const mainSection = bookmarkSections.find(s => s.id === 'main');
            if (mainSection && mainSection.isDefault) {
                mainSection.name = langData.defaultSection;
            }
            
            const additionalSection = bookmarkSections.find(s => s.id === 'additional');
            if (additionalSection && additionalSection.isDefault === false) {
                additionalSection.name = langData.additionalSection;
            }
            
            // Update bookmark descriptions for default bookmarks
            updateBookmarkDescriptions();
            
            // Update search engine display for language change
            updateSearchEngineDisplay();
            
            // Re-render sections to update all text
            renderSections();
            
            // Restart typewriter animation with new language
            if (typewriterAnimation) {
                typewriterAnimation.stop();
                typewriterAnimation.start();
            }
        }

        // Typewriter Animation Class
        class TypewriterAnimation {
            constructor(element) {
                this.element = element;
                this.currentPhraseIndex = 0;
                this.currentText = '';
                this.isDeleting = false;
                this.isPaused = false;
                this.typeSpeed = 100;
                this.deleteSpeed = 50;
                this.pauseTime = 2000;
                this.animationId = null;
                this.init();
            }

            init() {
                this.element.innerHTML = '';
                
                const textSpan = document.createElement('span');
                textSpan.className = 'typewriter-text';
                this.element.appendChild(textSpan);
                
                this.cursorElement = document.createElement('span');
                this.cursorElement.className = 'typewriter-cursor';
                this.element.appendChild(this.cursorElement);
                
                this.textElement = textSpan;
            }

            type() {
                if (this.isPaused) return;

                const phrases = translations[currentLanguage]?.typewriterPhrases || translations.de.typewriterPhrases;
                const current = phrases[this.currentPhraseIndex];
                
                if (this.isDeleting) {
                    this.currentText = current.substring(0, this.currentText.length - 1);
                    this.textElement.textContent = this.currentText;
                    
                    if (this.currentText === '') {
                        this.isDeleting = false;
                        this.currentPhraseIndex = (this.currentPhraseIndex + 1) % phrases.length;
                        this.animationId = setTimeout(() => this.type(), 1000); // 1 second pause between sentences
                    } else {
                        this.animationId = setTimeout(() => this.type(), this.deleteSpeed);
                    }
                } else {
                    this.currentText = current.substring(0, this.currentText.length + 1);
                    this.textElement.textContent = this.currentText;
                    
                    if (this.currentText === current) {
                        this.isPaused = true;
                        this.animationId = setTimeout(() => {
                            this.isPaused = false;
                            this.isDeleting = true;
                            this.type();
                        }, this.pauseTime);
                    } else {
                        this.animationId = setTimeout(() => this.type(), this.typeSpeed);
                    }
                }
            }

            start() {
                this.stop();
                this.currentPhraseIndex = 0;
                this.currentText = '';
                this.isDeleting = false;
                this.isPaused = false;
                this.init();
                this.type();
            }

            stop() {
                if (this.animationId) {
                    clearTimeout(this.animationId);
                    this.animationId = null;
                }
                this.isPaused = true;
            }

            restart() {
                this.start();
            }
        }

        let typewriterAnimation;

        // Event Listeners
        document.addEventListener('DOMContentLoaded', function() {
            const addSectionBtn = document.getElementById('addSectionBtn');
            if (addSectionBtn) {
                addSectionBtn.addEventListener('click', openSectionModal);
            }
            
            // Initialize typewriter animation
            const logoElement = document.getElementById('typewriterLogo');
            if (logoElement) {
                typewriterAnimation = new TypewriterAnimation(logoElement);
                typewriterAnimation.start();
            }
            
            // Setup title fetching for bookmark modal
            setupTitleFetching();
            
            // Modal click-outside-to-close
            document.getElementById('addBookmarkModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeBookmarkModal();
                }
            });
    
            document.getElementById('addSectionModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeSectionModal();
                }
            });
    
            document.getElementById('renameSectionModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeRenameModal();
                }
            });
    
            document.getElementById('alertModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeAlertModal();
                }
            });
    
            document.getElementById('confirmModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeConfirmModal();
                }
            });
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.key === '/' && e.target !== searchInput) {
                e.preventDefault();
                searchInput.focus();
            }
            if (e.key === 'Escape') {
                closeBookmarkModal();
                closeSectionModal();
                closeRenameModal();
            }
        });

        // Enhanced Dropdown Animations
        function toggleDropdown(dropdown, show) {
            if (show) {
                dropdown.style.display = 'block';
                // Force reflow to ensure transition starts from correct state
                dropdown.offsetHeight;
                dropdown.classList.add('show');
            } else {
                dropdown.classList.remove('show');
                setTimeout(() => {
                    dropdown.style.display = 'none';
                }, 400); // Match transition duration
            }
        }

        // Search Engine Dropdown Functionality
        const searchEngineDropdown = document.getElementById('searchEngineDropdown');
        let searchEngineOpen = false;
        
        searchEngineBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            searchEngineOpen = !searchEngineOpen;
            toggleDropdown(searchEngineDropdown, searchEngineOpen);
            
            // Close other dropdown
            if (searchEngineOpen) {
                toggleDropdown(languageDropdown, false);
                languageOpen = false;
            }
        });

        // Handle engine selection
        document.querySelectorAll('.search-engine-option').forEach(option => {
            option.addEventListener('click', (e) => {
                const engine = e.target.getAttribute('data-engine');
                saveSearchEngine(engine);
                searchEngineBtn.textContent = getEngineDisplayName(engine);
                toggleDropdown(searchEngineDropdown, false);
                searchEngineOpen = false;
            });
        });

        // Initialize
        // Set language from localStorage before any rendering
        const savedLanguage = localStorage.getItem('zane-language');
        if (savedLanguage && translations[savedLanguage]) {
            currentLanguage = savedLanguage;
            document.documentElement.lang = savedLanguage;
        }
        
        // Load saved search engine
        loadSearchEngine();
        
        // Apply language immediately
        updateUIText();
        
        searchInput.focus();
        createParticles();
        loadSections();

        // Remove the conflicting touch handler - it's now handled by the drag system
    </script>



</body></html>
